<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.min.css">
      <link rel="stylesheet" href="../lib/highlight/styles/dracula.css">
      <link rel="stylesheet" href="../lib/moodle-player/moodle-player.css"><script src="../lib/jquery/jquery-3.3.1.min.js"> </script><script src="../lib/bootstrap/js/bootstrap.min.js"> </script><script src="../lib/highlight/highlight.pack.js"> </script><script src="../lib/clipboard/clipboard.min.js"> </script><script src="../lib/mathjax/tex-chtml-full.js"> </script><link rel="apple-touch-icon" sizes="180x180" href="../lib/favicon/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="../lib/favicon/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="../lib/favicon/favicon-16x16.png">
      <link rel="manifest" href="../lib/favicon/site.webmanifest">
      <link rel="mask-icon" href="../lib/favicon/safari-pinned-tab.svg" color="#5bbad5">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#000000">
      <title>Exemple</title>
      <meta name="teaching-assistant-code-style" content="dracula">
      <meta name="teaching-assistant-generator" content="moodle-player">
      <!--        uncomment to add slide-->
    <!--                <meta name="teaching-assistant-generator" content="moodle-slides"/>-->
    <meta name="teaching-assistant-menu-level" content="3">
      <meta name="teaching-assistant-version" content="2.8.0">
      <meta name="teaching-assistant-course-datetime" content="2023-02-14 10:47:33">
   </head>
   <body>
      <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark"><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarToggler">
            <ul class="nav nav-pills mr-auto">
               <li class="nav-item"><a class="nav-link active" id="course-tab" data-toggle="tab" href="#course" aria-controls="course" aria-selected="true">Exemple</a></li>
               <li class="nav-item"><a class="nav-link" id="reference-tab" data-toggle="tab" href="#reference" aria-controls="reference" aria-selected="false">Références</a></li>
               <li class="nav-item"><a class="nav-link" id="source-tab" data-toggle="tab" href="#source" aria-controls="source" aria-selected="false">Sources</a></li>
            </ul>
            <ul class="navbar-nav">
               <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Sections</a><div class="dropdown-menu dropdown-menu-right dropdown-menu-scroll"><a class="dropdown-item badge-secondary" href="#id_installation">Installation</a><a class="dropdown-item" href="#id_android_studio">Android Studio</a><a class="dropdown-item" href="#id_installation_de_l'emulateur">Installation de l'émulateur</a><a class="dropdown-item" href="#id_configurer_le_telephone">Configurer le Téléphone</a><a class="dropdown-item" href="#id_documentation">Documentation</a><a class="dropdown-item" href="#id_miroir">Miroir</a><a class="dropdown-item badge-secondary" href="#id_introduction">Introduction</a><a class="dropdown-item" href="#id_%0A__________architecture_systeme_android%0A____________%0A__________doc%0A________">
          Architecture Système Android
            
          DOC
        </a><a class="dropdown-item pad-left-h3" href="#id_le_noyaux_linux">Le noyaux linux</a><a class="dropdown-item pad-left-h3" href="#id_couche_d'abstraction_materielle_(hal)">Couche d'abstraction matérielle (HAL)</a><a class="dropdown-item pad-left-h3" href="#id_android_runtime">Android Runtime</a><a class="dropdown-item pad-left-h3" href="#id_bibliotheques_c/c++_natives">Bibliothèques C/C++ natives</a><a class="dropdown-item pad-left-h3" href="#id_java_api_framework">Java API Framework</a><a class="dropdown-item pad-left-h3" href="#id_applications_systeme">Applications système</a><a class="dropdown-item pad-left-h3" href="#id_puissance_telephone">Puissance téléphone</a><a class="dropdown-item" href="#id_historique">Historique</a><a class="dropdown-item" href="#id_langage">Langage</a><a class="dropdown-item" href="#id_art_-_dalvik">ART - Dalvik</a><a class="dropdown-item" href="#id_hello_world">Hello World</a><a class="dropdown-item badge-secondary" href="#id_architecture">Architecture</a><a class="dropdown-item" href="#id_structure_d'un_projet_android">Structure d'un projet android</a><a class="dropdown-item" href="#id_les_composants_de_base">Les Composants de base</a><a class="dropdown-item pad-left-h3" href="#id_%0A__________activity%0A________">
          Activity
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________services%0A________">
          Services
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________broadcast_receivers%0A________">
          Broadcast receivers
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________les_contents_providers%0A________">
          Les Contents Providers
        </a><a class="dropdown-item" href="#id_%0A__________les_ressources%0A________">
          Les ressources
        </a><a class="dropdown-item" href="#id_les_fichiers_de_configurations">Les fichiers de configurations</a><a class="dropdown-item pad-left-h3" href="#id_%0A__________androidmanifest.xml%0A____________%0A__________doc%0A________">
          AndroidManifest.xml
            
          DOC
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________build.gradle%0A____________%0A__________doc%0A________">
          build.gradle
            
          DOC
        </a><a class="dropdown-item" href="#id_version_d'android_et_choix">Version d'Android et choix</a><a class="dropdown-item" href="#id_%0A__________logcat_et_log%0A____________%0A__________doc%0A________">
          Logcat et Log
            
          DOC
        </a><a class="dropdown-item pad-left-h3" href="#id_logcat">Logcat</a><a class="dropdown-item pad-left-h3" href="#id_%0A__________log%0A____________%0A__________doc%0A________">
          Log
            
          DOC
        </a><a class="dropdown-item badge-secondary" href="#id_activity">Activity</a><a class="dropdown-item" href="#id_cycle_de_vie">Cycle de vie</a><a class="dropdown-item pad-left-h3" href="#id_%0A__________oncreate()%0A____________%0A________">
          onCreate()
            
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________onstart()%0A________">
          onStart()
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________onresume()%0A____________%0A________">
          onResume()
            
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________onpause()%0A________">
          onPause()
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________onstop()%0A________">
          onStop()
        </a><a class="dropdown-item pad-left-h3" href="#id_%0A__________%0A________________ondestroy()%0A____________%0A________">
          
                onDestroy()
            
        </a><a class="dropdown-item pad-left-h3" href="#id_test_du_cycle_de_vie">Test du cycle de vie</a><a class="dropdown-item" href="#id_creer_une_activity">Créer une Activity</a><a class="dropdown-item pad-left-h3" href="#id_creer_une_classe_qui_herite_de_activity">Créer une classe qui hérite de Activity</a><a class="dropdown-item pad-left-h3" href="#id_ajouter_l'activite_dans_le_manifest.xml">Ajouter l'activité dans le manifest.xml</a><a class="dropdown-item pad-left-h3" href="#id_creer_un_fichier_xml_pour_la_vue">Créer un fichier XML pour la vue</a><a class="dropdown-item pad-left-h3" href="#id_utiliser_le_wizard_de_android_studio">Utiliser le Wizard de Android Studio</a><a class="dropdown-item" href="#id_comportement_dans_l'application">Comportement dans l'application</a><a class="dropdown-item" href="#id_le_context">Le Context</a><a class="dropdown-item" href="#id_container_de_view">Container de View</a><a class="dropdown-item badge-secondary" href="#id_les_interfaces_graphiques_dans_android">Les interfaces graphiques dans Android</a><a class="dropdown-item" href="#id_le_layout">Le Layout</a><a class="dropdown-item" href="#id_containeurs_et_components_existant">Containeurs et Components existant</a><a class="dropdown-item pad-left-h3" href="#id_les_containeurs">Les containeurs</a><a class="dropdown-item pad-left-h3" href="#id_les_composants">Les Composants</a><a class="dropdown-item" href="#id_les_attributs_xml">Les attributs XML</a><a class="dropdown-item pad-left-h3" href="#id_id">id</a><a class="dropdown-item pad-left-h3" href="#id_parametres_du_layout">Paramètres du layout</a><a class="dropdown-item pad-left-h3" href="#id_gravity_/_layout_gravity">gravity / layout gravity</a><a class="dropdown-item pad-left-h3" href="#id_poids_des_elements_(layout_weight)">Poids des éléments (layout_weight)</a><a class="dropdown-item badge-secondary" href="#id_manipulation_des_vues">Manipulation des vues</a><a class="dropdown-item" href="#id_creation_de_la_vue">Création de la vue</a><a class="dropdown-item pad-left-h3" href="#id_en_utilisant_le_xml">En Utilisant le XML</a><a class="dropdown-item pad-left-h3" href="#id_en_utilisant_le_java">En utilisant le Java</a><a class="dropdown-item pad-left-h3" href="#id_en_combinant_xml_et_code_java">En Combinant XML et Code Java</a><a class="dropdown-item" href="#id_acceder_aux_view_dans_l'activity">Accéder aux View dans l'Activity</a><a class="dropdown-item" href="#id_serialisation_/_deserialisation">Sérialisation / Desérialisation</a><a class="dropdown-item" href="#id_la_deserialisation_en_android">La désérialisation en Android</a><a class="dropdown-item badge-secondary" href="#id_%0A________les%0A________%0A________intent%0A______">
        Les
        
        Intent
      </a><a class="dropdown-item" href="#id_introduction">Introduction</a><a class="dropdown-item" href="#id_intent_explicite">Intent explicite</a><a class="dropdown-item pad-left-h3" href="#id_sans_passage_d'information">Sans passage d'information</a><a class="dropdown-item pad-left-h3" href="#id_avec_passage_d'information">Avec passage d'information</a><a class="dropdown-item pad-left-h3" href="#id_avec_information_retour">Avec information retour</a><a class="dropdown-item badge-secondary" href="#id_les_ressources_dans_android">Les ressources dans Android</a><a class="dropdown-item" href="#id_les_differents_types_de_ressource">Les différents types de ressource</a><a class="dropdown-item" href="#id_les_qualifiers">Les qualifiers</a><a class="dropdown-item pad-left-h3" href="#id_qualifier_-_orientation">qualifier - orientation</a><a class="dropdown-item pad-left-h3" href="#id_qualifier_-_locale">qualifier - locale</a><a class="dropdown-item" href="#id_la_class_r">La Class R</a><a class="dropdown-item pad-left-h3" href="#id_acceder_aux_ressources_en_java">Accéder aux ressources en Java</a><a class="dropdown-item pad-left-h3" href="#id_acceder_aux_ressources_en_xml">Accéder aux ressources en XML</a><a class="dropdown-item" href="#id_string_dynamique_dans_les_ressources">String Dynamique dans les ressources</a><a class="dropdown-item" href="#id_le_repertoire_asset">Le répertoire Asset</a><a class="dropdown-item" href="#id_les_methodes_de_assetmanager">Les méthodes de AssetManager</a><a class="dropdown-item pad-left-h3" href="#id_acceder_a_un_fichier_depuis_asset">Accéder à un fichier depuis asset</a><a class="dropdown-item pad-left-h3" href="#id_lister_les_fichiers_dans_asset">Lister les fichiers dans Asset</a><a class="dropdown-item badge-secondary" href="#id_les_menus">Les menus</a><a class="dropdown-item" href="#id_les_differents_types_de_menu">Les différents types de menu</a><a class="dropdown-item" href="#id_definition_du_menu_xml">Définition du menu XML</a><a class="dropdown-item" href="#id_menu_d'option_ou_action">Menu d'option ou action</a><a class="dropdown-item" href="#id_%0A__________gerer_l'evenement%0A____________%0A__________clic%0A________">
          Gérer l'événement
            
          clic
        </a><a class="dropdown-item badge-secondary" href="#id_les_dialogs">Les Dialogs</a><a class="dropdown-item" href="#id_introduction">Introduction</a><a class="dropdown-item" href="#id_modele_builder">Modèle Builder</a><a class="dropdown-item" href="#id_alertdialog">AlertDialog</a><a class="dropdown-item pad-left-h3" href="#id_un_message_simple">un message simple</a><a class="dropdown-item pad-left-h3" href="#id_ajouter_des_boutons">Ajouter des boutons</a><a class="dropdown-item pad-left-h3" href="#id_ajouter_une_liste_d'elements">Ajouter une liste d'éléments</a><a class="dropdown-item pad-left-h3" href="#id_definir_une_vue_personnalise">Définir une vue personnalisé</a><a class="dropdown-item badge-secondary" href="#id_les_vues_personnalisees">Les vues personnalisées</a><a class="dropdown-item" href="#id_les_differentes_vues_personnalisees">Les différentes vues personnalisées</a><a class="dropdown-item" href="#id_vue_par_combinaison">Vue par combinaison</a><a class="dropdown-item pad-left-h3" href="#id_inputview">InputView</a><a class="dropdown-item pad-left-h3" href="#id_inputview_en_xml">InputView en XML</a><a class="dropdown-item" href="#id_fonctionnement_des_view">Fonctionnement des View</a><a class="dropdown-item pad-left-h3" href="#id_passage_pour_la_taille">passage pour la taille</a><a class="dropdown-item pad-left-h3" href="#id_passage_pour_le_positionnement">Passage pour le positionnement</a><a class="dropdown-item pad-left-h3" href="#id_dessiner_la_vue">Dessiner la vue</a><a class="dropdown-item" href="#id_vue_par_redefinissions">Vue par redéfinissions</a><a class="dropdown-item" href="#id_vue_de_zero">Vue de zéro</a><a class="dropdown-item badge-secondary" href="#id_les_evenements_android">Les événements Android</a><a class="dropdown-item" href="#id_les_evenements_classiques">Les événements classiques</a><a class="dropdown-item pad-left-h3" href="#id_event_sur_les_view">Event sur les View</a><a class="dropdown-item pad-left-h3" href="#id_evenement_sur_changement_de_text">Événement sur changement de Text</a><a class="dropdown-item pad-left-h3" href="#id_evenement_sur_checkbox,_radiobutton,_radiogroup,_togglebutton">Événement sur CheckBox, RadioButton, RadioGroup, ToggleButton</a><a class="dropdown-item" href="#id_evenement_specialise">Événement Spécialisé</a><a class="dropdown-item" href="#id_boolean_de_retour">boolean de retour</a><a class="dropdown-item pad-left-h3" href="#id_ontouch">onTouch</a><a class="dropdown-item" href="#id_gesture_detector">Gesture Detector</a><a class="dropdown-item pad-left-h3" href="#id_implementer_l'interface">Implementer l'interface</a><a class="dropdown-item pad-left-h3" href="#id_ajouter_gesture_detector">Ajouter Gesture Detector</a><a class="dropdown-item pad-left-h3" href="#id_lier_gesturedetector_au_ontouchevent">Lier GestureDetector au onTouchEvent</a><a class="dropdown-item badge-secondary" href="#id_sauvegarde_des_informations">Sauvegarde des informations</a><a class="dropdown-item" href="#id_sharedpreferences">SharedPreferences</a><a class="dropdown-item pad-left-h3" href="#id_acceder_aux_sharedpreferences">Accéder aux SharedPreferences</a><a class="dropdown-item pad-left-h3" href="#id_acceder_aux_donnees">Accéder aux données</a><a class="dropdown-item pad-left-h3" href="#id_ajouter_des_donnees">Ajouter des données</a><a class="dropdown-item pad-left-h3" href="#id_supprimer_des_donnees">Supprimer des données</a><a class="dropdown-item" href="#id_persistance_dans_un_fichier">Persistance dans un fichier</a><a class="dropdown-item pad-left-h3" href="#id_ecrire/lire_en_interne">Écrire/Lire en interne</a><a class="dropdown-item pad-left-h3" href="#id_lire/ecrire_dans_la_memoire_externe">Lire/écrire dans la mémoire externe</a><a class="dropdown-item" href="#id_base_de_donnee_-_bd">Base de donnée - BD</a><a class="dropdown-item pad-left-h3" href="#id_creation_d'une_table_sqlite">Création d'une table SQLite</a><a class="dropdown-item pad-left-h3" href="#id_classe_pour_gerer_la_bd">Classe pour gérer la BD</a><a class="dropdown-item pad-left-h3" href="#id_manager_bdhelper">Manager BdHelper</a><a class="dropdown-item pad-left-h3" href="#id_gerer_les_donnees_de_la_bd">Gérer les données de la bd</a><a class="dropdown-item badge-secondary" href="#id_le_listview">Le ListView</a><a class="dropdown-item badge-secondary" href="#id_les_sensors">Les Sensors</a><a class="dropdown-item" href="#id_les_types_sensor">Les Types Sensor</a><a class="dropdown-item pad-left-h3" href="#id_mouvement">Mouvement</a><a class="dropdown-item pad-left-h3" href="#id_position">Position</a><a class="dropdown-item pad-left-h3" href="#id_environnement">Environnement</a><a class="dropdown-item" href="#id_sensor_framework">Sensor Framework</a><a class="dropdown-item pad-left-h3" href="#id_sensormanager">SensorManager</a><a class="dropdown-item pad-left-h3" href="#id_sensor">Sensor</a><a class="dropdown-item pad-left-h3" href="#id_listener">Listener</a><a class="dropdown-item pad-left-h3" href="#id_traiter_les_valeurs">Traiter les valeurs</a><a class="dropdown-item pad-left-h3" href="#id_permissions">permissions</a><a class="dropdown-item badge-secondary" href="#id_utilisation_de_processus_en_arriere-plan">Utilisation de processus en arrière-plan</a><a class="dropdown-item badge-secondary" href="#id_utiliser_le_protocole_http">Utiliser le protocole http</a></div>
               </li>
            </ul>
         </div>
      </nav>
      <main>
         <div class="tab-content">
            <div class="tab-pane fade show active" id="course" role="tabpanel" aria-labelledby="course-tab">
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_installation"></div>
                  <h1><span class="badge badge-secondary">Installation</span></h1>
                  <article class="contain-h2">
                     <div id="id_android_studio"></div>
                     <h2>Android Studio</h2>
                     <p class="bullet-diamond">
          Télécharger directement depuis le site d'Android développeur
                    
          <a target="_blank" href="https://developer.android.com/studio">Android Studio</a>
        </p>
                     <p class="bullet-diamond">
          Si vous avez besoin de plus d'information pour d'autre Système d'exploitation
                    
          <a target="_blank" href="https://developer.android.com/studio/install">Guide Installation</a>
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_installation_de_l'emulateur"></div>
                     <h2>Installation de l'émulateur</h2>
                     <p class="bullet-diamond">Pour pouvoir tester l'application, on va devoir installer un émulateur. Dans Android Studio il y a
                    déjà une solution de présente pour cela
                </p>
                     <ul class="list-group">
                        <li class="list-group-item">
            Créer un device virtuel
                        
            <a target="_blank" href="https://developer.android.com/studio/run/managing-avds">Virtual
                            Device
                        </a>
          </li>
                        <li class="list-group-item">
            Utiliser un outil externe
                        
            <ul class="list-group">
                              <li class="list-group-item">
                <a target="_blank" href="https://www.memuplay.com/">Menu Play</a>
              </li>
                              <li class="list-group-item">
                <a target="_blank" href="https://www.bluestacks.com/fr/index.html">Blue Stack</a>
                
                                PC et Mac seulement
                            
              </li>
                           </ul>
                        </li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_configurer_le_telephone"></div>
                     <h2>Configurer le Téléphone</h2>
                     <p class="bullet-diamond">
          Lors de la création d'une application Android, il est important de toujours tester votre application
                    sur un appareil réel avant de la diffuser aux utilisateurs. Pour pouvoir déployer votre application
                    sur un téléphone vous allez devoir suivre plusieurs étapes.
                    
          <a target="_blank" href="https://developer.android.com/studio/run/device">DOC</a>
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">
            Activer le mode développeur
                        
            <a target="_blank" href="https://developer.android.com/studio/debug/dev-options">DOC</a>
          </li>
                        <li class="list-group-item">Activer le développeur option</li>
                        <li class="list-group-item">Activer le débogage USB</li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_documentation"></div>
                     <h2>Documentation</h2>
                     <p class="bullet-diamond">
          Android évolue vite, il faut constamment aller voir sur la documentation officiel les changements.
                    
          <a target="_blank" href="https://developer.android.com/docs">Documentation Officiel</a>
        </p>
                     <p class="bullet-diamond">La documentation est subdivisée en plusieurs parties :</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/documentation.png" alt="Description alternative"></div>
                        </div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/guide">Le guide</a>
            
                        comme un tutoriel avec des examples de comment ça fonctionne.
                    
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference">La Référence</a>
            
                        le manuel pour chaque classe d'Android avec la liste et la description des constructeurs, des
                        méthodes et des attributs
                    
          </li>
                        <li class="list-group-item">
            Un guide pour les interfaces
                        
            <ul class="list-group">
                              <li class="list-group-item">
                <a target="_blank" href="https://developer.android.com/develop/ui">UI guide</a>
              </li>
                              <li class="list-group-item">
                <a target="_blank" href="https://developer.android.com/design">Design guide</a>
              </li>
                           </ul>
                        </li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_miroir"></div>
                     <h2>Miroir</h2>
                     <p class="bullet-diamond">Une fonctionnalité intéressante lors d'une présentation est de pouvoir faire le miroir du téléphone
                    et l'afficher sur un écran. Voici deux applications qui le font:
                </p>
                     <ul class="list-group">
                        <li class="list-group-item">
            
                        L'extension de chrome
                        
            <a target="_blank" href="https://chrome.google.com/webstore/detail/vysor/gidgenkbbabolejbgbpnhbimgjbffefm">
                            Vysor
                        </a>
            
                        permet de rapidement faire un miroir du téléphone
                    
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://github.com/Genymobile/scrcpy">Screen Copy</a>
            
                        projet open-source avec pleins d'options intéressantes, mais un peu plus de configuration à
                        faire.
                    
          </li>
                     </ul>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_introduction"></div>
                  <h1><span class="badge badge-secondary">Introduction</span></h1>
                  <article class="contain-h2">
                     <div id="id_&#10;__________architecture_systeme_android&#10;____________&#10;__________doc&#10;________"></div>
                     <h2>
          Architecture Système Android
            
          <a target="_blank" href="https://developer.android.com/guide/platform">DOC</a>
        </h2>
                     <p class="bullet-diamond">Android est un système open source basé sur un noyau Linux créer pour un large éventail d'appareils</p>
                     <ul class="list-group">
                        <li class="list-group-item">Appareils tactiles : Smartphone, tablette, montre</li>
                        <li class="list-group-item">Autre : Téléviseur, autoradio, voiture ...</li>
                     </ul>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/android_architecture.png" alt="Description alternative"></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_le_noyaux_linux"></div>
                     <h3>Le noyaux linux</h3>
                     <p class="bullet-diamond">La base de la plate-forme Android est le noyau Linux. Par exemple, Android Runtime (ART) s'appuie sur le
            noyau Linux pour les fonctionnalités sous-jacentes telles que le threading et la gestion de la mémoire de
            bas niveau.
        </p>
                     <p class="bullet-diamond">L'utilisation d'un noyau Linux permet à Android de tirer parti des principales fonctionnalités de sécurité et
            permet aux fabricants d'appareils de développer des pilotes matériels pour un noyau bien connu.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_couche_d'abstraction_materielle_(hal)"></div>
                     <h3>Couche d'abstraction matérielle (HAL)</h3>
                     <p class="bullet-diamond">La couche d'abstraction matérielle (HAL) fournit des interfaces standard qui exposent les capacités
            matérielles de l'appareil au cadre d'API Java de niveau supérieur. Le HAL se compose de plusieurs modules de
            bibliothèque, chacun implémentant une interface pour un type spécifique de composant matériel, tel que la
            caméra ou le module Bluetooth. Lorsqu'une API d'infrastructure effectue un appel pour accéder au matériel de
            l'appareil, le système Android charge le module de bibliothèque pour ce composant matériel.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_android_runtime"></div>
                     <h3>Android Runtime</h3>
                     <p class="bullet-diamond">Pour les appareils exécutant Android version 5.0 (niveau API 21) ou supérieur, chaque application s'exécute
            dans son propre processus et avec sa propre instance d'Android Runtime (ART). ART est écrit pour exécuter
            plusieurs machines virtuelles sur des appareils à faible mémoire en exécutant des fichiers DEX, un format de
            bytecode conçu spécialement pour Android et optimisé pour une empreinte mémoire minimale. Anciennement on
            utilisait la DVM ou Dalvik Virtual Machine pour gérer les applications.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_bibliotheques_c/c++_natives"></div>
                     <h3>Bibliothèques C/C++ natives</h3>
                     <p class="bullet-diamond">De nombreux composants et services principaux du système Android sont construits à
            partir des bibliothèques natives écrites en C et C++.
            La plate-forme Android fournit des API de framework Java pour exposer les fonctionnalités de certaines de
            ces bibliothèques natives aux applications.
        </p>
                     <p class="bullet-diamond">Si vous développez une application qui nécessite du code C ou C++, vous pouvez utiliser le NDK Android pour
            accéder à certaines de ces bibliothèques de plate-forme natives directement à partir de votre code natif.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_java_api_framework"></div>
                     <h3>Java API Framework</h3>
                     <p class="bullet-diamond">L'ensemble des fonctionnalités du système d'exploitation Android est à votre disposition via des API écrites
            en langage Java. Ces API constituent les blocs de construction dont vous avez besoin pour créer des
            applications Android en simplifiant la réutilisation des composants et services système modulaires de base,.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_applications_systeme"></div>
                     <h3>Applications système</h3>
                     <p class="bullet-diamond">Android est livré avec un ensemble d'applications de base pour la messagerie électronique, la messagerie SMS,
            les calendriers, la navigation sur Internet, les contacts, etc. Les applications incluses avec la
            plate-forme n'ont aucun statut particulier parmi les applications que l'utilisateur choisit d'installer.
            Ainsi, une application tierce peut devenir le navigateur Web par défaut de l'utilisateur.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_puissance_telephone"></div>
                     <h3>Puissance téléphone</h3>
                     <p class="bullet-diamond">Même si les téléphone deviennent de plus en plus puissant, ne pas oublier qu'ils sont beaucoup moins
            puissants qu'un ordinateur. Une phase d'optimisation de l'application pourrait s'avérer nécessaire.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_historique"></div>
                     <h2>Historique</h2>
                     <p class="bullet-diamond">Google pas créateur d'Android !!</p>
                     <p class="bullet-diamond">Origine Android est Android Incorporated racheté par Google en 2005</p>
                     <p class="bullet-diamond">2007 l'Open Handset Alliance 35 entreprises évoluant dans l'univers du mobile avec un OS OpenSource
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_langage"></div>
                     <h2>Langage</h2>
                     <p class="bullet-diamond">Les applications Android peuvent être écrites à l'aide des langages Kotlin, Java et C++. Les outils Android
            SDK compilent votre code avec tous les fichiers de données et de ressources dans un APK ou un Android App
            Bundle.
        </p>
                     <p class="bullet-diamond">Dans le cadre du cours, on utilisera Java pour éviter d'avoir à apprendre un nouveau langage.</p>
                     <p class="bullet-diamond">Dans la documentation Google veut pousser l'utilisation de Kotlin</p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_art_-_dalvik"></div>
                     <h2>ART - Dalvik</h2>
                     <p class="bullet-diamond">
          <a target="_blank" href="https://source.android.com/docs/core/runtime">ART</a>
          
            ou Android Runtime anciennement DVM ou Dalvik Virtual Machine
        
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_hello_world"></div>
                     <h2>Hello World</h2>
                     <p class="bullet-diamond">Création de la première application avec Android Studio et déploiement dans l'émulateur ou le téléphone</p>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_architecture"></div>
                  <h1><span class="badge badge-secondary">Architecture</span></h1>
                  <p class="bullet-diamond">Une application android est composée de trois parties</p>
                  <ul class="list-group">
                     <li class="list-group-item">Les Composants de base</li>
                     <li class="list-group-item">Les ressources de l'application</li>
                     <li class="list-group-item">Les fichiers de configuration</li>
                  </ul>
                  <article class="contain-h2">
                     <div id="id_structure_d'un_projet_android"></div>
                     <h2>Structure d'un projet android</h2>
                     <pre>
                        MyApplication
                        ├── app
                        │   ├── libs
                        │   └── src
                        │   ├── androidTest
                        │   ├── main
                        │   │   ├── java  &lt;--
                        │   │   ├── res   &lt;--
                        │   │   └── AndroidManifest.xml  &lt;--
                        │   └── test
                        ├── build.gradle  &lt;--
                        └── gradlew
                </pre>
                     <ul class="list-group">
                        <li class="list-group-item">java : répertoire avec toutes les classes et le code Java</li>
                        <li class="list-group-item">res : répertoire avec tous les fichiers supplémentaires, le contenu statique utilisés par votre
                code, tels que les bitmaps, les définitions de mise en page, les textes d'interface utilisateur, les
                instructions d'animation, etc...
            </li>
                        <li class="list-group-item">AndroidManifest.xml : fichier de configuration du projet</li>
                        <li class="list-group-item">build.gradle : configuration pour gradle</li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_les_composants_de_base"></div>
                     <h2>Les Composants de base</h2>
                     <p class="bullet-diamond">Il existe 4 types de composants possibles dans une application Android :</p>
                     <ul class="list-group">
                        <li class="list-group-item">Les Activities</li>
                        <li class="list-group-item">Les Services</li>
                        <li class="list-group-item">Les Brodcast Receivers</li>
                        <li class="list-group-item">Les Contents Providers</li>
                     </ul>
                     <p class="bullet-diamond">
          On peut aussi parler d'un 5ᵉ objet
            
          <kbd>Intent</kbd>
          <a target="_blank" href="https://developer.android.com/guide/components/fundamentals#ActivatingComponents">DOC</a>
          
            qui sert
            à faire la liaison entre les 3 premiers. Dans la doc, on le qualifie de messager asynchrone.
        
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________activity&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/intro-activities">Activity</a>
        </h3>
                     <p class="bullet-diamond">Une activité est le point d'entrée pour interagir avec l'utilisateur. Il représente un écran unique avec une
            interface utilisateur.
        </p>
                     <p class="bullet-diamond">En tant que telle, une application différente peut démarrer l'une de ces activités si l'application de
            messagerie le permet. Par exemple, une application d'appareil photo peut démarrer l'activité dans
            l'application de messagerie qui compose un
            nouveau courrier pour permettre à l'utilisateur de partager une image.
        </p>
                     <p class="bullet-diamond">Une activité facilite les interactions clés suivantes entre le système et l'application.
        </p>
                     <p class="bullet-diamond">On reviendra en détail sur ce composant dans la suite du cours.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________services&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/services">Services</a>
        </h3>
                     <p class="bullet-diamond">Un service est un point d'entrée à usage général pour maintenir une application en arrière-plan un peu comme
            un thread.
        </p>
                     <p class="bullet-diamond">Il s'agit d'un composant qui s'exécute en arrière-plan pour effectuer des opérations de longue durée ou pour
            effectuer des tâches pour des processus distants.
            Un service ne fournit pas d'interface utilisateur.
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">Musique en arrière plan</li>
                        <li class="list-group-item">Récupérer des données sur le réseau sans bloquer l'interaction avec les activity</li>
                     </ul>
                     <p class="bullet-diamond">Peut être démarré par une Activity et continuer de s'exécuter en arrière plan</p>
                     <p class="bullet-diamond">Il existe deux types de services qui indiquent au système comment gérer une application:</p>
                     <ul class="list-group">
                        <li class="list-group-item">Les services démarrés (started services)</li>
                        <li class="list-group-item">Les services liés. (bound services)</li>
                     </ul>
                     <p class="bullet-diamond">Si on a le temps, on traitera les services dans le cours, mais pas évaluer dans le cours.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________broadcast_receivers&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/reference/android/content/BroadcastReceiver">Broadcast receivers</a>
        </h3>
                     <p class="bullet-diamond">Composant qui permet au système de transmettre des événements à l'application en dehors d'un flux
            d'utilisateurs régulier
        </p>
                     <p class="bullet-diamond">Permet à l'application de répondre aux annonces de diffusion à l'échelle du système</p>
                     <ul class="list-group">
                        <li class="list-group-item">Définir une alarme</li>
                        <li class="list-group-item">Publier une notification</li>
                        <li class="list-group-item">Niveau de la batterie (Quand elle est faible)</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________les_contents_providers&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/topics/providers/content-providers">Les Contents Providers</a>
        </h3>
                     <p class="bullet-diamond">Pour gérer un ensemble de données dans le système de fichiers, dans une base de données SQLite, sur le Web ou
            sur tout autre emplacement de stockage persistant auquel votre application peut accéder.
        </p>
                     <p class="bullet-diamond">Pour le système, content provider est un point d'entrée dans une application pour accéder à des données
            nommées, identifiés par un schéma d'URI.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_&#10;__________les_ressources&#10;________"></div>
                     <h2>
          <a target="_blank" href="https://developer.android.com/guide/topics/resources/providing-resources">Les ressources</a>
        </h2>
                     <p class="bullet-diamond">Dans ce répertoire se trouve les ressources que vous allez utiliser dans votre application.</p>
                     <p class="bullet-diamond">Les ressources sont regroupées par type dans un sous répertoire correspondant :</p>
                     <pre>
                Répertorie ressource commun :
                main
                ├── java
                └── res
                   ├── drawable
                   ├── layout
                   ├── mipmap
                   └── values
            </pre>
                     <p class="bullet-diamond">
          Vous pouvez avoir la liste de tous les sous type 
          <a target="_blank" href="https://developer.android.com/guide/topics/resources/available-resources">ICI
        </a>
           mais pour le moment on va décrire les plus communes.
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">drawable : Fichiers bitmap (.png, .jpg, .gif) ou XML.</li>
                        <li class="list-group-item">layout : Fichiers XML qui définissent la mise en page d'une interface utilisateur</li>
                        <li class="list-group-item">values : Fichiers XML contenant des valeurs simples, telles que des chaînes, des entiers et des
                couleurs.
            </li>
                     </ul>
                     <p class="bullet-diamond">
          Dans le répertoire 
          <kbd>res/value</kbd>
           on pourra avoir :
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">des couleurs</li>
                        <li class="list-group-item">des chaines de caractère</li>
                        <li class="list-group-item">des tableaux(int, string ...)</li>
                        <li class="list-group-item">des styles</li>
                     </ul>
                     <p class="bullet-diamond">On peut faire plusieurs fichiers pour séparer les ressources et s'y retrouver plus facilement.</p>
                     <p class="bullet-diamond">Il en existe d'autres sous types, mais on les verra au fur et à mesure des besoins.</p>
                     <p class="bullet-diamond">On reviendra plus tard su comment accéder et utiliser les ressources.</p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_les_fichiers_de_configurations"></div>
                     <h2>Les fichiers de configurations</h2>
                     <p class="bullet-diamond">Le système de build Android compile les ressources et le code source de l'application et les regroupe dans
            des APK(Application PacKage) ou des bundles d'applications Android(AAB) que vous pouvez tester, déployer,
            signer et distribuer.
        </p>
                     <p class="bullet-diamond">Android Studio utilise Gradle, pour automatiser et gérer le processus de construction tout en vous permettant
            de définir des configurations de construction flexibles et personnalisées.
        </p>
                     <p class="bullet-diamond">Chaque projet d'application doit avoir un fichier AndroidManifest.xml (portant précisément ce nom) à la
            racine de l'ensemble source du projet. Le fichier manifeste décrit les informations essentielles sur votre
            application pour les outils de génération Android, le système d'exploitation Android et Google Play. On va
            avoir dans ce fichier:
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________androidmanifest.xml&#10;____________&#10;__________doc&#10;________"></div>
                     <h3>
          AndroidManifest.xml
            
          <a target="_blank" href="https://developer.android.com/guide/topics/manifest/manifest-intro">DOC</a>
        </h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdFxD"><code class="xml">
                    &lt;?xml version="1.0" encoding="utf-8"?&gt;
                    &lt;manifest
                        xmlns:android="http://schemas.android.com/apk/res/android"
                        android:versionCode="1"
                        android:versionName="1.0"&gt;
                    
                        &lt;uses-feature android:name="android.hardware.sensor.compass"
                            android:required="true" /&gt;
                    
                        &lt;application
                            android:allowBackup="true"
                            android:icon="@mipmap/ic_launcher"
                            android:roundIcon="@mipmap/ic_launcher_round"
                            android:label="@string/app_name"
                            android:supportsRtl="true"
                            android:theme="@style/AppTheme"&gt;
                    
                            &lt;activity android:name=".MainActivity"&gt;
                                &lt;intent-filter&gt;
                                    &lt;action android:name="android.intent.action.MAIN" /&gt;
                                    &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
                                &lt;/intent-filter&gt;
                            &lt;/activity&gt;
                            &lt;activity
                                android:name=".DisplayMessageActivity"
                                android:parentActivityName=".MainActivity" /&gt;
                        &lt;/application&gt;
                    &lt;/manifest&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdFxD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On va retrouver dans ce fichier :</p>
                     <ul class="list-group">
                        <li class="list-group-item">android:label -&gt; le nom de l'application</li>
                        <li class="list-group-item">android:icon -&gt; l'icon de l'application visible dans le téléphone</li>
                        <li class="list-group-item">La liste des différents composants (Activity, Service, Brodcast Receiver, Content Provider</li>
                        <li class="list-group-item">Le point d'entrée de l'application</li>
                        <li class="list-group-item">La liste des permissions que l'application a besoin (ex : utiliser le réseau)</li>
                        <li class="list-group-item">Les prérequis au niveau Hardware pour utiliser l'application</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________build.gradle&#10;____________&#10;__________doc&#10;________"></div>
                     <h3>
          build.gradle
            
          <a target="_blank" href="https://developer.android.com/studio/build">DOC</a>
        </h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdFzD"><code class="gradle">
                plugins {
                    id 'com.android.application'
                }
                android {
                    namespace 'com.example.appname'
                    compileSdk 32
                    defaultConfig {
                        applicationId "com.example.appname"
                        minSdk 25
                        targetSdk 32
                        versionCode 1
                        versionName "1.0"
                        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
                    }
                    buildTypes {
                        release {
                            minifyEnabled false
                            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
                        }
                    }
                    compileOptions {
                        sourceCompatibility JavaVersion.VERSION_1_8
                        targetCompatibility JavaVersion.VERSION_1_8
                    }
                }
                dependencies {
                    implementation 'androidx.appcompat:appcompat:1.5.1'
                    implementation 'com.google.android.material:material:1.7.0'
                    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
                    testImplementation 'junit:junit:4.13.2'
                    androidTestImplementation 'androidx.test.ext:junit:1.1.3'
                    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdFzD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Informations Importantes :</p>
                     <ul class="list-group">
                        <li class="list-group-item">target : La version du SDK utilisé pour compiler</li>
                        <li class="list-group-item">minSDK : La version minimale supportée</li>
                        <li class="list-group-item">versionCode et versionName : la version de l'application. Utilisé par le play-store pour savoir s'il y a
                des mises à jour a faire
            </li>
                        <li class="list-group-item">dependencies : comme maven, permet d'ajouter des librairies externes dans le projet</li>
                     </ul>
                     <p class="bullet-diamond">Lorsque l'on veut modifier ces valeurs, on peut le faire manuellement, mais il est conseillé de passer par
            l'interface graphique d'Android Studio. Pour y accéder il suffit d'aller dans File
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/projet_structure.png" alt=""></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_version_d'android_et_choix"></div>
                     <h2>Version d'Android et choix</h2>
                     <p class="bullet-diamond">Cette documentation a été mise à jour en janvier 2023. Lors de la création d'un projet android nous propose
            de l'aide pour choisir la version cible.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <h5 class="card-title">Liste des versions d'Android et pourcentage de téléphone  l'utilisant</h5>
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/version_api.png" alt="" data-title="Liste des versions d'Android et pourcentage de téléphone  l'utilisant"></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Ici on peut voir la liste des versions et des API correspondante. On voit aussi le pourcentage de téléphone
            que l'on va toucher si on choisit une version.
        </p>
                     <p class="bullet-diamond">Par exemple La version 7.1 Nougat avec l'API 25 va toucher 90% des téléphones. Dans ce cas, on pourrait se
            dire je vais utiliser l'API 17 qui va toucher 99.9% des téléphones. Pas forcément un bon calcul. Si dans
            votre application vous avez besoin d'utiliser l'empreinte digitale ce ne sera pas possible, car c'est
            seulement dans l'API 23 que cette fonctionnalité apparait.
        </p>
                     <p class="bullet-diamond">En gros, plus on utilise des fonctionnalités récentes moins on va toucher de téléphone, car il faut attendre
            que les gens mettent à jour le téléphone. Or sous Android ce n'est pas toujours possible. Le système va
            mettre à jour le téléphone que si celui-ci est capable de le supporter au niveau hardware.
        </p>
                     <p class="bullet-diamond">Au moment de concevoir votre application il faudra se poser la question. Quel type de population je veux
            toucher ? Quelles fonctionnalités j'ai absolument besoin d'avoir?
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_&#10;__________logcat_et_log&#10;____________&#10;__________doc&#10;________"></div>
                     <h2>
          Logcat et Log
            
          <a target="_blank" href="https://developer.android.com/studio/debug/am-logcat">DOC</a>
        </h2>
                  </article>
                  <article class="contain-h3">
                     <div id="id_logcat"></div>
                     <h3>Logcat</h3>
                     <p class="bullet-diamond">La fenêtre Logcat d'Android Studio affiche les messages système et les messages que vous avez ajoutés à votre
            application avec la classe Log. Il affiche les messages en temps réel et conserve un historique afin que
            vous puissiez voir les messages plus anciens.
        </p>
                     <p class="bullet-diamond">Très utile pour déboguer une application :</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/logcat.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">On peut aussi filtrer les logs en fonction du label ou de la priorité du log.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________log&#10;____________&#10;__________doc&#10;________"></div>
                     <h3>
          Log
            
          <a target="_blank" href="https://developer.android.com/reference/android/util/Log">DOC</a>
        </h3>
                     <p class="bullet-diamond">
          La classe 
          <kdb>Log</kdb>
           vous permet de créer des messages de journal qui apparaissent dans logcat. En règle
            générale,
            vous devez utiliser les méthodes de journalisation suivantes, répertoriées dans l'ordre de priorité la plus
            élevée à la plus faible.
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">Log.e(String, String) (error)</li>
                        <li class="list-group-item">Log.w(String, String) (warning)</li>
                        <li class="list-group-item">Log.i(String, String) (information)</li>
                        <li class="list-group-item">Log.d(String, String) (debug)</li>
                        <li class="list-group-item">Log.v(String, String) (verbose)</li>
                     </ul>
                     <p class="bullet-diamond">Le premier String est le label unique du message. On l'utilisera dans le logcat pour retrouver rapidement
            notre message
        </p>
                     <p class="bullet-diamond">Le deuxième String est le message que l'on veut faire apparaître</p>
                     <p class="bullet-diamond">Bien faire attention la méthode attend un STRING et pas un autre type. À vous de faire la conversion de type
            s'il y a besoin.
        </p>
                     <p class="bullet-diamond">
          Il existe aussi un 😄 
          <a target="_blank" href="https://developer.android.com/reference/android/util/Log#wtf">
            Log.wtf(String,
            String)
        </a>
           😄 pour "What a Terrible Failure" ou Quel terrible échec. À utiliser qu'en cas d'erreur
            incompréhensible.
        
        </p>
                     <p class="bullet-diamond">Faire attention que le Logcat ait bien le focus sur le bon téléphone et ensuite le bon projet. Quand on a
            plusieurs téléphones ainsi que des émulateurs en même temps on peut vite se faire avoir.
        </p>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_activity"></div>
                  <h1><span class="badge badge-secondary">Activity</span></h1>
                  <p class="bullet-diamond">La classe Activity est un composant de base d'une application Android. Comprendre la façon dont les activités
        sont
        lancées et assemblées est aussi élément fondamental pour la construction des applications mobiles. Contrairement
        aux
        paradigmes de programmation dans lesquels les applications sont lancées avec une méthode main(), c'est le
        système
        Android initie le code dans une instance Activity en appelant des méthodes de rappel spécifiques qui
        correspondent à des étapes spécifiques de son cycle de vie.
    </p>
                  <article class="contain-h2">
                     <div id="id_cycle_de_vie"></div>
                     <h2>Cycle de vie</h2>
                     <p class="bullet-diamond">La classe Activity fournit un certain nombre de methode callback qui permettent à l'activité de savoir qu'un
            état a changé : quand le système crée, arrête ou reprend une activité, ou détruit le processus dans lequel
            l'activité réside.
        </p>
                     <p class="bullet-diamond">C'est ce qui permet de contrôler l'activité sans avoir la main sur l'instance de l'objet.</p>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm text-center">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/activity_lifecycle.png" alt="life cycle of activity"></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm">
                              <ul class="list-group">
                                 <li class="list-group-item">onCreate() : Cette méthode est appelée quand le système crée votre activité.</li>
                                 <li class="list-group-item">onStart() : Cette méthode est appelée juste avant que l'activité devienne visible.</li>
                                 <li class="list-group-item">onResume() : Cette méthode est appelée juste avant que l'activité ne commence à interagir
                            avec l'utilisateur.
                        </li>
                                 <li class="list-group-item">onPause() : Cette méthode est appelée lorsque l'activité perd le focus et passe à l'état
                            Pause. L'activité est encore partiellement visible.
                        </li>
                                 <li class="list-group-item">onStop() : Cette méthode est appelée lorsque l'activité n'est plus visible pour
                            l'utilisateur.
                        </li>
                                 <li class="list-group-item">onDestroy() : Cette méthode est appelée avant qu'une activité ne soit détruite.</li>
                                 <li class="list-group-item">onRestart() : Cette méthode est appelée car l'activité a été arrêté et va être redémarré.
                        </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________oncreate()&#10;____________&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#oncreate">onCreate()
            </a>
        </h3>
                     <p class="bullet-diamond">Logique de démarrage d'application de base qui ne doit se produire qu'une seule fois pendant toute la durée
            de vie de l'activité. Par exemple :
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">lier des données à une liste</li>
                        <li class="list-group-item">instancier des variables ou des classes</li>
                        <li class="list-group-item">récupérer les valeurs qui sont dans l'objet Bundle</li>
                        <li class="list-group-item">
            Définir les View ou ViewGroup qui composent la vue. Méthode 
            <a target="_blank" href="https://developer.android.com/reference/android/app/Activity#setContentView(android.view.View)">
                setContentView()</a>
            . On verra en détail son utilisation dans la suite du cours.
            
          </li>
                     </ul>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHhH"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            setContentView(R.layout.activity_main);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHhH">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________onstart()&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#onstart">onStart()</a>
        </h3>
                     <p class="bullet-diamond">Juste avant que l'activité soit visible.</p>
                     <p class="bullet-diamond">Appelée juste après onCreate ou lorsque l'activité a été stoppé</p>
                     <p class="bullet-diamond">méthode qui doit être rapide</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________onresume()&#10;____________&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#onresume">onResume()
            </a>
        </h3>
                     <p class="bullet-diamond">Il s'agit de l'état dans lequel l'application interagit avec l'utilisateur et reste dans cet état jusqu'à la
            perte du focus.
        </p>
                     <p class="bullet-diamond">Appelé après onStart ou lorsque l'activité a été onPause</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________onpause()&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#onpause">onPause()</a>
        </h3>
                     <p class="bullet-diamond">Appelé car l'activité va être quitté.</p>
                     <p class="bullet-diamond">C'est ici qu'on doit arrêter toutes les taches qui n'ont pas lieux d'être alors que l'activité n'est plus en
            premier plan (peut être encore visible dans le cas du multiscreen).
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">stop camera preview</li>
                        <li class="list-group-item">arrêter d'écouter les sensors</li>
                        <li class="list-group-item">toute ressource qui affecte l'utilisation de la batterie</li>
                        <li class="list-group-item">execution de onPause() doit rester bref. Pas de grosse opération ici(sauvegarder data, appeler le
                réseau)
            </li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________onstop()&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#onstop">onStop()</a>
        </h3>
                     <p class="bullet-diamond">Activité n'est plus visible</p>
                     <p class="bullet-diamond">Se produit quand une nouvelle activité est lancée et qu'elle couvre tout l'écran ou quand on va
            simplement quitter l'application.
        </p>
                     <p class="bullet-diamond">Effectuer des opérations d'arrêt relativement gourmandes en CPU. Par exemple, pour enregistrer des
            informations dans une base de données.
        </p>
                     <p class="bullet-diamond">même si l'activité est stoppée, elle reste en mémoire.</p>
                     <p class="bullet-diamond">Si l'activité revient au premier plan on aura onRestart() qui sera appelé.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_&#10;__________&#10;________________ondestroy()&#10;____________&#10;________"></div>
                     <h3>
          <a target="_blank" href="https://developer.android.com/guide/components/activities/activity-lifecycle#ondestroy">
                onDestroy()
            </a>
        </h3>
                     <p class="bullet-diamond">Activité est complétement détruite car :</p>
                     <ul class="list-group">
                        <li class="list-group-item">l'activité est finie (utilisateur supprime application de la mémoire ou finish() a été appelé)</li>
                        <li class="list-group-item">Le système détruit l'activité, car il y a un changement de configuration comme rotation écran ou
                multi-screen
            </li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_test_du_cycle_de_vie"></div>
                     <h3>Test du cycle de vie</h3>
                     <p class="bullet-diamond">Toujours le meilleur moyen de comprendre, c'est souvent de tester.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHtF"><code class="java">
                public class MainActivity extends AppCompatActivity {
                    private static final String TAG = "debug_app";
                    @Override
                    protected void onCreate(Bundle savedInstanceState) {
                        super.onCreate(savedInstanceState);
                        setContentView(R.layout.activity_main);
                        Log.d(TAG, "onCreate:");
                    }
                    @Override
                    protected void onStart() {
                        super.onStart();
                        Log.d(TAG, "onStart: ");
                    }
                    @Override
                    protected void onResume() {
                        super.onResume();
                        Log.d(TAG, "onResume: ");
                    }
                    @Override
                    protected void onPause() {
                        super.onPause();
                        Log.d(TAG, "onPause: ");
                    }
                    @Override
                    protected void onStop() {
                        super.onStop();
                        Log.d(TAG, "onStop: ");
                    }
                    @Override
                    protected void onDestroy() {
                        super.onDestroy();
                        Log.d(TAG, "onDestroy: ");
                    }
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHtF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_creer_une_activity"></div>
                     <h2>Créer une Activity</h2>
                     <p class="bullet-diamond">Pour créer une activité, il y a au moins deux étapes à suivre. Généralement on en ajoute une
            troisième.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_creer_une_classe_qui_herite_de_activity"></div>
                     <h3>Créer une classe qui hérite de Activity</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHxD"><code class="java">
                public class FirstActivity extends Activity {
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHxD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">C'est la classe la plus basique. Dans la pratique, on utilisera AppCompactActivity qui nous permettra d'avoir
            de la compatibilité avec les anciennes versions d'Android
        </p>
                     <p class="bullet-diamond">On va aussi redéfinir la méthode onCreate pour définir la vue. Sinon on aura simplement un écran blanc ce qui
            n'est pas très utile.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHxJ"><code class="java">
                public class FirstActivity extends AppCompatActivity {
                    @Override
                    protected void onCreate(@Nullable Bundle savedInstanceState) {
                        super.onCreate(savedInstanceState);
                        setContentView(R.layout.activity_first);
                    }
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHxJ">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ajouter_l'activite_dans_le_manifest.xml"></div>
                     <h3>Ajouter l'activité dans le manifest.xml</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHzD"><code class="xml">
                &lt;application
                       ... &gt;
                    &lt;activity android:name=".FirstActivity"
                        android:exported="true"&gt;
                        &lt;intent-filter&gt;
                            &lt;action android:name="android.intent.action.MAIN" /&gt;
                            &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
                        &lt;/intent-filter&gt;
                    &lt;/activity&gt;
                &lt;/application&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHzD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Le tag intent-filter avec action et category permet d'expliquer que c'est le point d'entrée de
            l'application
        </p>
                     <p class="bullet-diamond">Si on avait une deuxième activité le manifest ressemblerait à</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHzJ"><code class="xml">
                &lt;application
                       ... &gt;
                    &lt;activity android:name=".FirstActivity"
                        android:exported="true"&gt;
                        &lt;intent-filter&gt;
                            &lt;action android:name="android.intent.action.MAIN" /&gt;
                            &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
                        &lt;/intent-filter&gt;
                    &lt;/activity&gt;
                    &lt;activity android:name=".SecondActivité"
                        android:exported="false"/&gt;
                &lt;/application&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHzJ">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          <kbd>android:exported</kbd>
          <ul class="list-group">
                           <li class="list-group-item">
                    Si la valeur est true, l'activité est accessible à n'importe quelle application et peut être lancée
                    avec le nom exact de la classe.
                </li>
                           <li class="list-group-item">Si la valeur est false, l'activité ne peut être lancée que par des composants de la même
                    application, des applications ayant le même ID utilisateur ou des composants système privilégiés. En
                    l'absence de filtres d'intent, il s'agit de la valeur par défaut.
                </li>
                           <li class="list-group-item">doit être a true pour l'activité point d'entrée</li>
                        </ul>
                     </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_creer_un_fichier_xml_pour_la_vue"></div>
                     <h3>Créer un fichier XML pour la vue</h3>
                     <p class="bullet-diamond">Généralement on crée un fichier xml dans les resources pour définir la vue de l'activité. On peut toute fois
            s'en passer et faire une vue sans le XML, tout en code Java.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_utiliser_le_wizard_de_android_studio"></div>
                     <h3>Utiliser le Wizard de Android Studio</h3>
                     <p class="bullet-diamond">Le plus simple est de faire new empty activity qui va faire ces trois étapes pour nous.</p>
                     <div class="row">
                        <div class="col text-center">
                           <div class="card">
                              <div class="card-body">
                                 <div class="card-body-img"><img class="img-fluid rounded" src="../asset/create_empty_activity.png" alt=""></div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_comportement_dans_l'application"></div>
                     <h2>Comportement dans l'application</h2>
                     <p class="bullet-diamond">Une tâche est un ensemble d'activités avec lesquelles les utilisateurs interagissent lorsqu'ils essaient de
            faire quelque chose dans votre application. Ces activités sont disposées dans une pile - la pile arrière -
            dans l'ordre dans lequel chaque activité est ouverte.
        </p>
                     <div class="col text-center">
                        <div class="card">
                           <div class="card-body">
                              <div class="card-body-img"><img class="img-fluid rounded" src="../asset/diagram_backstack.png" alt=""></div>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">
            Lorsque l'activité en cours en démarre une autre, la nouvelle activité est poussée en haut de la pile et
            prend le focus.
        </p>
                     <p class="bullet-diamond">L'activité précédente reste dans la pile est arrêtée, mais conserve l'état de son interface.</p>
                     <p class="bullet-diamond">Lorsque l'utilisateur effectue l'action de retour ou le programmeur utilise finish(), l'activité en cours est
            supprimé du haut de la pile (l'activité est détruite) et l'activité précédente reprend (l'état précédent de
            son interface utilisateur est restauré).
        </p>
                     <p class="bullet-diamond">Les activités de la pile ne sont jamais réorganisées, seulement ajouté ou retirées de la pile</p>
                     <p class="bullet-diamond">Fonctionne comme une structure de donnée dernier entré premier sortie on dit aussi (FILO First In Last Out)
        </p>
                     <p class="bullet-diamond">Dans votre application il sera important de bien gérer vos activités pour éviter d'en avoir plusieurs même
            instance dans la pile
        </p>
                     <div class="row">
                        <div class="col text-center">
                           <div class="card">
                              <div class="card-body">
                                 <div class="card-body-img"><img class="img-fluid rounded" src="../asset/diagram_multiple_instances.png" alt=""></div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">
          Vous pouvez voir 
          <a target="_blank" href="https://developer.android.com/guide/components/activities/tasks-and-back-stack#ManagingTasks">ici
        </a>
           comment changer le comportement de la pile. Mais une meilleure analyse adaptée au fonctionnement d'Android
            est préférable. En général on ne veut pas changer le comportement par défaut.
        
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_le_context"></div>
                     <h2>Le Context</h2>
                     <p class="bullet-diamond">Interface qui possède les informations globales sur un environnement d'application. Il s'agit d'une classe
            abstraite que chaque Activité implémente. Il permet d'accéder :
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">à des ressources et à des classes spécifiques à l'application</li>
                        <li class="list-group-item">des opérations sur l'application telles que le lancement d'activités</li>
                        <li class="list-group-item">la diffusion et la réception d'intentions</li>
                        <li class="list-group-item">et bien d'autre</li>
                     </ul>
                     <p class="bullet-diamond">Énormément de classe ont besoin du Context pour fonctionner.</p>
                     <p class="bullet-diamond">Il existe plusieurs façons de mettre la main dessus </p>
                     <ul class="list-group">
                        <li class="list-group-item">this</li>
                        <li class="list-group-item">getApplicationContext()</li>
                        <li class="list-group-item">getBaseContext()</li>
                     </ul>
                     <p class="bullet-diamond">Voici la plus simple et qui permet de le retrouver facilement partout dans la classe.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdHahP"><code class="java">
                public class MainActivity extends AppCompatActivity {
                    Context context;
                    @Override
                    protected void onCreate(Bundle savedInstanceState) {
                        super.onCreate(savedInstanceState);
                        context = this; //don t forget this line, else you will have NullPointer
                        setContentView(R.layout.activity_main);
                    }
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdHahP">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_container_de_view"></div>
                     <h2>Container de View</h2>
                     <p class="bullet-diamond">Composant visuel de l'application</p>
                     <p class="bullet-diamond">Utilise setContentView pour définir la vue</p>
                     <p class="bullet-diamond">La vue est composée que d'objet de type View ou ViewGroup. Si on fait le parallèle avec votre cours de React
            JS :
        </p>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm">
                              <ul class="list-group">
                                 <li class="list-group-item">View serait un Composant ou un élément de vue graphique</li>
                                 <li class="list-group-item">ViewGroup serait un Conteneur ou élément de vue pour l'organisation ou le layout</li>
                              </ul>
                           </div>
                           <div class="col-sm text-center">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/viewgroup_and_view.png" alt=""></div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Un chapitre entier sera consacré aux interfaces utilisateurs (UI)</p>
                  </article>
                  <!--    <article>-->
      <!--        <h2>Sauvegarder l'état de l'activité</h2>-->
      <!--    </article>-->
    </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_interfaces_graphiques_dans_android"></div>
                  <h1><span class="badge badge-secondary">Les interfaces graphiques dans Android</span></h1>
                  <article class="contain-h2">
                     <div id="id_le_layout"></div>
                     <h2>Le Layout</h2>
                     <p class="bullet-diamond">Le layout (mise en page) définit la structure de votre Interface Utilisateur(UI). Tous les éléments du UI
            sont
            construits à l'aide de 2 type d'objet :
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">Les View</li>
                        <li class="list-group-item">Les ViewGroup</li>
                     </ul>
                     <p class="bullet-diamond">Au final Le Layout est composé d'un arbre d'objet, comme en javascript avec le DOM (Document Object Model)
        </p>
                     <div class="card">
                        <div class="card-body">
                           <h5 class="card-title">Arbre des Objets composant un Layout</h5>
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ui_hierarchie_layout.png" alt="view hiérarchie" data-title="Arbre des Objets composant un Layout"></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Dans la documentation officielle, les View sont appelées communément des "widgets" et les ViewGroup sont
            appelées des "layouts". Pour éviter de confondre entre "Layout" ViewGroup et "Layout" liste des objets
            créant la vue, dans ce cours les View seront des composants et les ViewGroup seront des containeurs de la
            vue et le Layout sera la combinaison de tous les composants et containeurs de la vue.
        </p>
                     <p class="bullet-diamond">
          Si on regarde dans la documentation de référence sur les 
          <a target="_blank" href="https://developer.android.com/reference/android/view/ViewGroup">ViewGroup
        </a>
           on peut voir qu'un ViewGroup hérite de View. Au final, on pourrait le voir comme un View possédant une
            
          
        List&lt;View&gt; ou un containeur de View.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ui_reference_viewgroup.png"></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_containeurs_et_components_existant"></div>
                     <h2>Containeurs et Components existant</h2>
                     <p class="bullet-diamond">Dans le SDK Android il y a déjà des View et ViewGroup codés pour nous. Voyons une liste des principaux
            utilisés dans ce cours.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_les_containeurs"></div>
                     <h3>Les containeurs</h3>
                     <p class="bullet-diamond">Permet d'avoir des enfants à l'intérieur. En fonction des conteneurs les enfants auront un layout différent
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_&#10;__________linearlayout&#10;________"></div>
                     <h4>
          <a target="_blank" href="https://developer.android.com/develop/ui/views/layout/linear">LinearLayout</a>
        </h4>
                     <p class="bullet-diamond">L'un des plus simples à utiliser. Il permet d'avoir des enfants les uns en dessous des autres (VERTICAL) ou
            les uns a côté des autres (HORIZONTAL).
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_&#10;__________relativelayout&#10;________"></div>
                     <h4>
          <a target="_blank" href="https://developer.android.com/develop/ui/views/layout/relative">RelativeLayout</a>
        </h4>
                     <p class="bullet-diamond">Ce ViewGroupe affiche les enfants dans des positions relatives. La position de
            chaque enfant peut être spécifiée par rapport aux éléments enfants ou par rapport à la zone parent
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_scrollview"></div>
                     <h4>ScrollView</h4>
                     <p class="bullet-diamond">Permet d'ajouter un défilement si le contenu dépasse de la vue. Existe aussi le HorizontalScrollView</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_&#10;__________constraintlayout&#10;________"></div>
                     <h4>
          <a target="_blank" href="https://developer.android.com/develop/ui/views/layout/constraint-layout">ConstraintLayout</a>
        </h4>
                     <p class="bullet-diamond">ConstraintLayout vous permet de créer des mises en page volumineuses et complexes. Il est similaire au
            RelativeLayout en ce sens que toutes les vues ont disposées en fonction des relations entre les vues, mais
            il est plus flexible que le RelativeLayout. Ce composant ne sera pas traité en cours.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_les_composants"></div>
                     <h3>Les Composants</h3>
                     <p class="bullet-diamond">Ce sont les composants d'affichage, comme un bouton un label ou une image.</p>
                     <p class="bullet-diamond">Voici une liste des principaux :</p>
                     <ul class="list-group">
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference/android/widget/Button">Button</a>
            
                affiche un bouton avec un texte.
            
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference/android/widget/TextView">TextView</a>
            
                permet d'afficher du texte comme un label.
            
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference/android/widget/EditText">EditText</a>
            
                permet de demander à l'utilisateur d'entrer du texte.
            
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference/android/widget/ImageView">ImageView</a>
            
                permet d'afficher une image dans la vue.
            
          </li>
                        <li class="list-group-item">
            <a target="_blank" href="https://developer.android.com/reference/android/widget/CheckBox">CheckBox</a>
            
                permet d'afficher une checkBox à l'écran
            
          </li>
                     </ul>
                     <p class="bullet-diamond">Il existe beaucoup d'autre composant, mais on ne peut pas tous les détailler ici.</p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_les_attributs_xml"></div>
                     <h2>Les attributs XML</h2>
                     <p class="bullet-diamond">Chaque View et ViewGroup ont leurs propres attributs XML. Certains attributs sont spécifiques à un objet
            View, mais ces attributs sont hérités du View parent. Comme tous les composants et containeurs héritent de
            View ils ont plusieurs attributs en commun. Voici les quelques attributs importants. Pour la majorité ils
            viennent de View.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_id"></div>
                     <h3>id</h3>
                     <p class="bullet-diamond">Tout objet View peut avoir un ID entier qui lui est associé, pour identifier de manière unique la vue.
            Lorsque l'application est compilée, cet ID est référencé sous forme d'entier, mais l'ID est
            généralement attribué dans le fichier XML de mise en page sous forme de chaîne, dans l'attribut id. Il
            s'agit d'un attribut XML commun à tous les objets View. Voici la syntaxe de creation d'un id par XML.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdJvF"><code class="xml">
                    android:id="@+id/my_id"
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdJvF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">ici le "@" veut dire qu'on va accéder aux ressources, le "+id" est là pour demander de créer un id ou
            d'utiliser celui existant.
        </p>
                     <p class="bullet-diamond">Comme on l'a vu précédemment on va pouvoir accéder au View depuis son id grâce à findViewById(id_view).</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_parametres_du_layout"></div>
                     <h3>Paramètres du layout</h3>
                     <p class="bullet-diamond">
          Tous les attributs jouant sur le layout de la vue vont commencer par layout_quelquechose. Par exemple pour
            définir le la largeur et la hauteur, on devra utiliser 
          <kbd>layout_width</kbd>
           et 
          <kbd>layout_height</kbd>
          .
            On peut définir une taille exacte, mais la plupart du temps, on va préférer utiliser une de ses deux
            valeurs.
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">wrap_content : demande à la vue de prendre la taille de son contenu</li>
                        <li class="list-group-item">match_parent : demande à la vue de prendre la taille de tout le parent</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_gravity_/_layout_gravity"></div>
                     <h3>gravity / layout gravity</h3>
                     <p class="bullet-diamond">Gravity est l'attribut à appliquer sur les enfants. Permet d'expliquer la position dans l'espace que l'enfant
            prend. Layout_gravity permet de définir la position par rapport au parent.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdJzF"><code class="xml">
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            xmlns:app="http://schemas.android.com/apk/res-auto"
                            xmlns:tools="http://schemas.android.com/tools"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="vertical"
                            tools:context=".MainActivity"&gt;
                        &lt;TextView
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:text="Hello World!" /&gt;
                        &lt;TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_gravity="right"
                                android:text="Hello World!" /&gt;
                        &lt;TextView
                                android:layout_width="match_parent"
                                android:gravity="right"
                                android:layout_height="wrap_content"
                                android:text="Hello World!" /&gt;
                        &lt;TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_gravity="center"
                                android:text="Hello World!" /&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdJzF">Copie</button></div>
                     </div>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_gravity_result.png"></div>
                                 </div>
                              </div>
                              <p class="bullet-diamond">
                        Voici le résultat dans l'émulateur.
                    </p>
                           </div>
                           <div class="col-sm">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_gravity_draw.png"></div>
                                 </div>
                              </div>
                              <p class="bullet-diamond">Voici l'explication</p>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_poids_des_elements_(layout_weight)"></div>
                     <h3>Poids des éléments (layout_weight)</h3>
                     <p class="bullet-diamond">Voici un attribut spécifique au LinearLayout qui va être très utile pour faire des designs Responsive. Il va
            nous permettre d'expliquer le poids que l'objet va prendre dans la vue
        </p>
                     <p class="bullet-diamond">Le LinearLayout va additionner tous les poids et faire en sorte que la vue la fraction désirée du poids
            total.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdJabH"><code class="xml">
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            xmlns:app="http://schemas.android.com/apk/res-auto"
                            xmlns:tools="http://schemas.android.com/tools"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="vertical"
                            tools:context=".MainActivity"&gt;
                        &lt;Button
                                android:layout_width="match_parent"
                                android:layout_height="0dp"
                                android:layout_weight="40"
                                android:text="btn 1" /&gt;
                        &lt;Button
                                android:layout_width="match_parent"
                                android:layout_height="0dp"
                                android:layout_weight="60"
                                android:text="btn 2" /&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdJabH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ici comme le LinearLayout est vertical il va additionner tous les poids soit 60+40 = 100 et faire en sorte
            que le premier bouton fasse 40/100 et le deuxième 60/100
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_weight_verticale.png"></div>
                        </div>
                     </div>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdJabN"><code class="xml">
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            xmlns:app="http://schemas.android.com/apk/res-auto"
                            xmlns:tools="http://schemas.android.com/tools"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="horizontal"
                            tools:context=".MainActivity"&gt;
                        &lt;Button
                                android:layout_width="0dp"
                                android:layout_height="match_parent"
                                android:layout_weight="2"
                                android:text="btn 1" /&gt;
                        &lt;Button
                                android:layout_width="0dp"
                                android:layout_height="match_parent"
                                android:layout_weight="5"
                                android:text="btn 2" /&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdJabN">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Dans le cas ou le LinearLayout est horizontal le poids sera sur le width</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_weight_horizontale.png"></div>
                        </div>
                     </div>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_manipulation_des_vues"></div>
                  <h1><span class="badge badge-secondary">Manipulation des vues</span></h1>
                  <article class="contain-h2">
                     <div id="id_creation_de_la_vue"></div>
                     <h2>Création de la vue</h2>
                     <p class="bullet-diamond">Il existe 3 façons de créer des UI :</p>
                     <ul class="list-group">
                        <li class="list-group-item">
            En utilisant le XML dans
                
            <kbd>res/layout</kbd>
          </li>
                        <li class="list-group-item">En créant des instances programmatiquement de ViewGroup et de View (Code Java)</li>
                        <li class="list-group-item">En Combinant XML et Code Java</li>
                     </ul>
                     <p class="bullet-diamond">Dans tous les cas, il faudra définir le Layout dans l'Activity. Pour cela on devra utiliser la méthode
            setContentView. Il existe plusieurs redéfinitions de cette méthode pour pouvoir affecter le layout à
            l'Activity en fonction de la façon que l'on veut utiliser.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLdJ"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            //set UI width XML File
                            setContentView(R.layout.activity_main); //we give here reference of XML file
                            
                            //set view width Java File
                            LinearLayout container = new LinearLayout(context);
                            setContentView(container);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLdJ">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Comme on voit, on définit le Layout dans onCreate. Normalement, on n'appelle pas deux fois setContentView,
            mais si vous le faîte, seul le dernier va définir la vue en écrasant le précédent.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_en_utilisant_le_xml"></div>
                     <h3>En Utilisant le XML</h3>
                     <p class="bullet-diamond">
          Pour ce faire il faudra créer un fichier XML dans les ressources. L'utilisation de XML facilite grandement le
            design du layout. Il permet de styliser la vue un peu comme en CSS dans les pages HTML (Le HTML est du XML).
            Dans l'IDE Android Studio on a aussi la possibilité d'utiliser un outil graphique : le 
          <a target="_blank" href="https://developer.android.com/studio/write/layout-editor">Layout Editor
            </a>
          . Il va nous permettre de créer le layout et voir le résultat dans l'Activity sans lancée l'application
            (jusqu'à certaines limites).
        
        </p>
                     <p class="bullet-diamond">Pour ouvrir le Layout Editor, il suffit de cliquer sur un fichier XML de layout dans les ressources
            (res/layout). Il existe trois modes de vue :
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ui_layout_editor_view_mode.png"></div>
                        </div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">Le mode Code : on aura accès seulement au XML</li>
                        <li class="list-group-item">Le mode Split : accès au XML et à la preview du XML. Sera souvent utiliser en cours</li>
                        <li class="list-group-item">Le mode Design : accès qu'à la preview. Permet d'ajouter des View ou ViewGroup par Drag And Drop ou
                encore d'accéder à tous les attributs possibles pour chaque View.
            </li>
                     </ul>
                     <p class="bullet-diamond">Voici un exemple de XML "activity_main.xml" qui va créer un LinearLayout comme containeur principal avec un
            TextView comme enfant
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLfN"><code class="xml">
                        &lt;?xml version="1.0" encoding="utf-8"?&gt;
                        &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                                xmlns:app="http://schemas.android.com/apk/res-auto"
                                xmlns:tools="http://schemas.android.com/tools"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                tools:context=".MainActivity"&gt;
                            &lt;TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Hello World!" /&gt;
                        &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLfN">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Il faudra aussi avoir dans le code java l'instruction setContentView pour définir la vue.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLfR"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            setContentView(R.layout.activity_main);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLfR">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On expliquera plus tard le R.layout.activity_main, mais pour faire rapide, c'est le moyen d'accéder aux
            Ressources depuis le code Java. On verra qu'il existe la même chose quand on est dans le XML.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_en_utilisant_le_java"></div>
                     <h3>En utilisant le Java</h3>
                     <p class="bullet-diamond">Il faudra créer des instances des différents éléments de la vue que vous voulez voir apparaître.
            Inconvénient il faudra parfois aller chercher la méthode qui correspond à l'attribut XML pour modifier le
            composant.
        </p>
                     <p class="bullet-diamond">Dans l'exemple xml précédent pour définir la taille du composant, on utilise l'attribut layout_width et
            layout_height. Si on voulait faire la meme chose juste programmatiquement on ferait.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLhH"><code class="java">
                TextView tv = new TextView(this);
                LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
                tv.setLayoutParams(params);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLhH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ici on voit qu'on doit passer par un objet LayoutParams pour donner la largeur et la hauteur du composant.
        </p>
                     <p class="bullet-diamond">Si l'on veut exactement la même chose que dans le fichier XML précédent, on devra avoir le code :</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLhN"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            //create instance of linear layout
                            LinearLayout linearLayoutMain = new LinearLayout(context);
                            linearLayoutMain.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));
                            linearLayoutMain.setOrientation(LinearLayout.VERTICAL);
                            //add linearLayout as main container of activity
                            setContentView(linearLayoutMain);
                            //create textview
                            TextView textView = new TextView(context);
                            textView.setText("Hello World!");
                            textView.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));
                            //set text view as child of linearlayout
                            linearLayoutMain.addView(textView);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLhN">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_en_combinant_xml_et_code_java"></div>
                     <h3>En Combinant XML et Code Java</h3>
                     <p class="bullet-diamond">Au final, c'est rarement le XML ou le Java que l'on va utiliser pour créer nos Layout. Mais plus
            une combinaison des deux.
        </p>
                     <p class="bullet-diamond">Quand on voudra ajouter des événements ou modifier la vue pendant l'exécution, on n'aura pas le choix de le
            faire en Java.
        </p>
                     <p class="bullet-diamond">Imaginons un mock up comme celui la</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ui_xml_and_java.png" alt="java and xml"></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Si les vignettes rouges (une image et un texte) proviennent d'une base de donnée, on ne pourra pas savoir
            combien il y en aura en tout. On n'aura pas le choix de mettre la main sur la boite grise et d'ajouter
            programmatiquement les vignettes dans la vue. Par contre, on utilisera le XML pour styliser la vue.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_acceder_aux_view_dans_l'activity"></div>
                     <h2>Accéder aux View dans l'Activity</h2>
                     <p class="bullet-diamond">Souvent on va vouloir "mettre la main" sur une vue créée en XML, pour être capable d'interagir avec elle à
            travers le code Java. Comme dans l'exemple précédent où on voulait remplir la boite grise de Vignette.
        </p>
                     <p class="bullet-diamond">Dans la classe View il existe un attribut id. C'est grâce à cet id que l'on va être capable de "mettre la
            main" sur une vue particulière dans une activity.
        </p>
                     <p class="bullet-diamond">Il existe une methode findViewById(int id), cette méthode devrait vous rappeler une méthode utiliser en
            JavaScript pour mettre la main sur un élément du DOM (document.getElementById()).
        </p>
                     <p class="bullet-diamond">Reprenons l'exemple précédent avec le TexView.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLlL"><code class="xml">
                    &lt;?xml version="1.0" encoding="utf-8"?&gt;
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            xmlns:app="http://schemas.android.com/apk/res-auto"
                            xmlns:tools="http://schemas.android.com/tools"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="vertical"
                            tools:context=".MainActivity"&gt;
                        &lt;TextView
                                android:id="@+id/text_view"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Hello World!" /&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLlL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          La ligne android:id="@+id/text_view" permet d'ajouter un attribut id sur le TextView, la valeur de l'id sera
            
          <b>text_view</b>
          . On expliquera plus tard le @ et le +. Voilà le code pour accéder au TexteView depuis le
            Java.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLlP"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            setContentView(R.layout.activity_main);
                            //access to textview
                            TextView textView = findViewById(R.id.text_view);
                            //change value of textview
                            textView.setText("New text to print");
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLlP">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Attention normalement findViewById est une methode de View, mais ils ont redéfini cette méthode dans
            Activity pour aller chercher directement dans le Layout de la vue.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_serialisation_/_deserialisation"></div>
                     <h2>Sérialisation / Desérialisation</h2>
                     <p class="bullet-diamond">La sérialisation est utilisée pour convertir un objet en un flux d'octets qui peut être envoyé vers
            n'importe quelle autre programme en cours d'exécution via un réseau ou peut être conservé sur le disque dans
            le but de le reconstruire plus tard.
        </p>
                     <p class="bullet-diamond">La desérialisation est le procédé inverse qui permettra de reconstruire un objet depuis le flux d'octets</p>
                     <p class="bullet-diamond">Il existe plusieurs formats de sérialisation comme :</p>
                     <ul class="list-group">
                        <li class="list-group-item">En Java, implémenter l'interface Serializable</li>
                        <li class="list-group-item">le JSON</li>
                        <li class="list-group-item">le XML</li>
                     </ul>
                     <p class="bullet-diamond">Connaitre le format utilisé est très important, pour être capable de faire l'opération dans les deux sens.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_serialization.png"></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_la_deserialisation_en_android"></div>
                     <h2>La désérialisation en Android</h2>
                     <p class="bullet-diamond">
          Pour nous permettre désérialiser il existe un objet 
          <a target="_blank" href="https://developer.android.com/reference/android/view/LayoutInflater">LayoutInflater</a>
          , à qui on
            va donner le fichier XML à transformer en View.
        
        </p>
                     <p class="bullet-diamond">Grâce à cet objet, on va pouvoir créer des vues en XML est les désérialiser quand on en aura besoin.</p>
                     <p class="bullet-diamond">
          Soit le XML suivant
            
          <kbd>small_view.xml</kbd>
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLpJ"><code class="xml">
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="horizontal"
                            android:padding="5dp"&gt;
                        &lt;TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="10"
                                android:background="#f00"
                                android:gravity="center"
                                android:textSize="20dp"
                                android:textColor="#fff"
                                android:text="Left" /&gt;
                        &lt;TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="10"
                                android:background="#0f0"
                                android:gravity="center"
                                android:textSize="20dp"
                                android:textColor="#fff"
                                android:text="Right" /&gt;
                        &lt;TextView
                                android:id="@+id/tv_view_number"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="10"
                                android:background="#00f"
                                android:gravity="center"
                                android:textSize="20dp"
                                android:textColor="#fff"
                                android:text="No " /&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLpJ">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Si dans une activité, on veut ajouter 10 fois ce layout on devrait faire ceci.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdLpN"><code class="java">
                    public class InflatorActivity extends AppCompatActivity {
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            LinearLayout llMain = new LinearLayout(context);
                            llMain.setOrientation(LinearLayout.VERTICAL);
                            setContentView(llMain);
                            for (int i = 0; i &lt; 10; i++) {
                                //deserialization of view
                                LinearLayout linearLayoutSmallView = (LinearLayout) LayoutInflater.from(context).inflate(R.layout.small_view,null);
                                TextView textViewNumberView = linearLayoutSmallView.findViewById(R.id.tv_view_number);
                                textViewNumberView.setText("No : " + (i+1));
                                llMain.addView(linearLayoutSmallView);
                            }
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdLpN">Copie</button></div>
                     </div>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/manipulation_inflateur_small_view.png"></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm">
                              <p class="bullet-diamond">Ici on voit qu'on a ajouté 10 fois la petite vue.</p>
                              <p class="bullet-diamond">
                Une fois désérialisé on peut aussi aller chercher un element de la petite vue grace a
                        findViewById, mais ici il faudra faire :
                        
                <kbd>viewToInspect.findViewById</kbd>
              </p>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Si on reprend l'exemple ou on mélange XML et Java.</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ui_xml_and_java.png"></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">On va pouvoir mettre la main sur le containeur gris et ensuite dans une boucle désérialiser plusieurs fois le
            conteneur rouge et aller changer la valeur dedans.
        </p>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_&#10;________les&#10;________&#10;________intent&#10;______"></div>
                  <h1><span class="badge badge-secondary">
        Les
        
        <a target="_blank" href="https://developer.android.com/guide/components/intents-filters#Types">Intent</a>
      </span></h1>
                  <p class="bullet-diamond">Intent est un objet messager pouvant réaliser une action sur les composants principaux. Il permet de faciliter la
        communication. Il existe trois cas d'utilisation :
    </p>
                  <ul class="list-group">
                     <li class="list-group-item">Démarrer une Activité :</li>
                     <li class="list-group-item">Démarrer un Service :</li>
                     <li class="list-group-item">Démarrer un Broadcast :</li>
                  </ul>
                  <article class="contain-h2">
                     <div id="id_introduction"></div>
                     <h2>Introduction</h2>
                     <p class="bullet-diamond">il existe 2 types d'Intent:</p>
                     <ul class="list-group">
                        <li class="list-group-item">Intent Explicite : On va donner le nom spécifique de l'activité qui va réaliser l'action. Plus utiliser
                pour démarrer des activités qui sont dans notre application
            </li>
                        <li class="list-group-item">Intent Implicite : Ici on ne connait pas le nom de l'activité, mais on connait l'action que l'on
                voudrait réaliser(ex : voir image, envoyer sms, chercher fichier). C'est le système qui va chercher dans
                les applications les activités capables de réaliser l'action et nous demander de choisir dans une liste.
                Très utile pour démarrer des activités qui se trouvent dans une autre application.
            </li>
                     </ul>
                     <p class="bullet-diamond">Dans le cadre de ce cours, on va se concentrer sur les intents explicites. On peut lister 3 cas d'utilisation
            lorsque l'on démarre une activité :
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">Sans passage d'information</li>
                        <li class="list-group-item">Avec passage d'information</li>
                        <li class="list-group-item">Avec retour d'information</li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_intent_explicite"></div>
                     <h2>Intent explicite</h2>
                  </article>
                  <article class="contain-h3">
                     <div id="id_sans_passage_d'information"></div>
                     <h3>Sans passage d'information</h3>
                     <p class="bullet-diamond">Le plus simple, on va juste donner le nom de l'activité que l'on veut démarrer.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdNlF"><code class="java">
                Intent intent = new Intent(ctx,ClassName.class);
                startActivity(intent);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdNlF">Copie</button></div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">
            <kbd>ctx</kbd>
            
                : représente le Context de l'application.
            
          </li>
                        <li class="list-group-item">
            <kbd>ClassName.class</kbd>
            
                : représente le type de la classe à démarrer. le 
            <em>.class</em>
             est utilisé pour récupérer le type.
                Très utilisé en programmation quand on utilise les 
            <a target="_blank" href="https://docs.oracle.com/javase/tutorial/extra/generics/index.html">Génériques
            </a>
             ou que l'on fait de la
                
            <a target="_blank" href="https://docs.oracle.com/javase/tutorial/reflect/index.html">Réflexion</a>
          </li>
                     </ul>
                     <p class="bullet-diamond">startActivity() va demander au système de créer une nouvelle Activité et l'ajouter en haut de la pile des
            activités. C'est donc celle-ci qui va devenir visible.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_avec_passage_d'information"></div>
                     <h3>Avec passage d'information</h3>
                     <div class="container-fluid">
                        <div class="row">
                           <div class="col-sm-3 text-center">
                              <div class="card">
                                 <div class="card-body">
                                    <h5 class="card-title">Structure schématique d'un objet Intent</h5>
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/intent_structure.png" alt="" data-title="Structure schématique d'un objet Intent"></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm-9">
                              <p class="bullet-diamond">L'objet Intent est un messager, il peut donc aussi contenir un message. On va utiliser l'objet
                        extra pour sauvegarder de l'information. Celui-ci se comporte comme un HashMap avec une clef et
                        une valeur.
                    </p>
                              <div class="card">
                                 <div class="card-body">
                                    <pre id="code_snippet_d24aAdNnDbDd"><code class="java">
                            Intent intent = new Intent(this, SecondeActivity.class);
                            intent.putExtra("name","user name");
                            intent.putExtra("id", "456-fesdf-464sdf");
                            intent.putExtra("year", 27);
                            startActivity(intent);
                        </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdNnDbDd">Copie</button></div>
                              </div>
                              <p class="bullet-diamond">Une fois dans SecondeActivity il faudra en premier lieu mettre la main sur l'Intent qui a
                        démarré l'activité. Pour cela, on utilise getIntent().
                    </p>
                              <p class="bullet-diamond">Reste à récupérer les valeurs avec les mêmes clefs.</p>
                              <div class="card">
                                 <div class="card-body">
                                    <pre id="code_snippet_d24aAdNnDbDj"><code class="java">
                            Intent intent = getIntent();
                            String nameValue = intent.getStringExtra("name");
                            String idValue = intent.getStringExtra("id");
                            int yearValue =  intent.getIntExtra("year", -1);
                        </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdNnDbDj">Copie</button></div>
                              </div>
                              <p class="bullet-diamond">dans le cas de getIntExtra on nous demande la valeur par défaut s'il ne trouve pas la clef.</p>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">On peut schématiser par</p>
                     <div class="text-center">
                        <div class="card">
                           <div class="card-body">
                              <div class="card-body-img"><img class="img-fluid rounded text-center" src="../asset/intent_with_data.png" alt=""></div>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_avec_information_retour"></div>
                     <h3>Avec information retour</h3>
                     <p class="bullet-diamond">Dance ce cas, on va devoir démarrer l'activité en expliquant qu'on attend un résultat en retour.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdNpF"><code class="java">
                ActivityResultLauncher&lt;Intent&gt; resultActivity = registerForActivityResult(
                        new ActivityResultContracts.StartActivityForResult(),
                        new ActivityResultCallback&lt;ActivityResult&gt;() {
                            @Override
                            public void onActivityResult(ActivityResult result) {
                                if (result.getResultCode() == RESULT_OK) {
                                    //do instruction when result
                                    Intent intent = result.getData();
                                    String dataString = intent.getStringExtra("dataKey");
                                }
                            }
                        }
                );
                Intent intent = new Intent(this, SecondeActivity.class);
                resultActivity.launch(intent);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdNpF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">ActivityResultLauncher est comme un événement qu'on utiliserait. C'est la méthode onActivityResult qui sera
            appelée quand on reviendra sur l'activité. La méthode result.getData() nous permettra de mettre la main sur
            l'Intent avec les données qui proviennent de l'autre activité, ici SecondeActivity.
        </p>
                     <p class="bullet-diamond">Voyons le code dans la deuxième activité pour ajouter de l'information.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdNpL"><code class="java">
                button.setOnClickListener(new View.OnClickListener() {
                    @Override
                    public void onClick(View v) {
                        Intent intent = new Intent();
                        intent.putExtra("dataKey","hello data"); //1
                        setResult(RESULT_OK, intent); //2
                        finish(); //3
                    }
                });
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdNpL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ici on exécute du code quand on clique sur un bouton :</p>
                     <ul class="list-group">
                        <li class="list-group-item">
                //1 : on ajoute de l'info dans l'Intent
            </li>
                        <li class="list-group-item">
                //2 : méthode qui permet de définir le code du résultat (RESULT_OK, RESULT_CANCEL) et l'Intent avec les
                données en deuxième paramètre. Ce deuxième paramètre est optionnel. Si par exemple on envoie
                RESULT_CANCEL comme code, on ne voudra peut-être pas ajouter d'Intent.
            </li>
                        <li class="list-group-item">//3 : permet de tuer programmatiquement l'Activity</li>
                     </ul>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_ressources_dans_android"></div>
                  <h1><span class="badge badge-secondary">Les ressources dans Android</span></h1>
                  <p class="bullet-diamond">Une application Android est composée de beaucoup plus que juste du code Java. Il y a aussi des ressources
        séparées du code source comme des images, des fichiers audio et beaucoup d'autre.
    </p>
                  <article class="contain-h2">
                     <div id="id_les_differents_types_de_ressource"></div>
                     <h2>Les différents types de ressource</h2>
                     <p class="bullet-diamond">
            Les ressources sont les fichiers externes et le contenu statique, tels que les bitmaps, les styles, les
            strings, les couleurs ...
        </p>
                     <p class="bullet-diamond">
            Vous devriez toujours externaliser les ressources d'application telles que les images et les chaînes de
            votre
            code, afin de pouvoir les gérer de manière indépendante.
        </p>
                     <p class="bullet-diamond">Android nous propose de regrouper les ressources dans des répertoires spécialement nommés.
        </p>
                     <p class="bullet-diamond">A chaque fois que vous ajoutez une ressource, Android Studio va générer automatiquement une référence pour
            pouvoir y accéder.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPfL"><code class="terminal">
                    MyProject/
                        src/
                            MyActivity.java
                        res/
                            drawable/
                                graphic.png
                            layout/
                                main.xml
                                info.xml
                            mipmap/
                                icon.png
                            values/
                                strings.xml
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPfL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          Voici la liste complete des ressources
            
          <a target="_blank" href="https://developer.android.com/guide/topics/resources/available-resources">Liste Ressources</a>
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_les_qualifiers"></div>
                     <h2>Les qualifiers</h2>
                     <p class="bullet-diamond">Lorsque l'on rajoute une ressource, que ce soit un String, une image, un layout, ou autre on peut préciser
            comment la
            ressource doit se comporter selon différents critères et permettre ainsi au système de choisir quelle
            ressource utiliser.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_qualifier_liste.png" alt=""></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_qualifier_-_orientation"></div>
                     <h3>qualifier - orientation</h3>
                     <p class="bullet-diamond">On peut par exemple sur un layout xml ajouter le qualifier orientation.</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_qualifier_orientation_portrait.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Ici on a ajouté le qualifier orientation portrait. Si le téléphone est en mode portrait, le système va
            automatiquement choisir ce fichier pour l'affichage.
        </p>
                     <p class="bullet-diamond">Si 'on veut ajouter le qualifier landscape sur un autre layout, pour que le système soit capable de choisir,
            il va falloir avoir exactement le même nom de fichier, mais avec le qualifier landscape. Si vous faites cela
            vous devriez obtenir cela dans la zone projet.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_qualifier_orientation_both.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Si on regarde ce qu'Android Studio a fait, il a créé deux repertoires avec le qualifier dessus. Mais
            finalement, on a deux fichiers avec le même nom.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_qualifier_folder.png" alt=""></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_qualifier_-_locale"></div>
                     <h3>qualifier - locale</h3>
                     <p class="bullet-diamond">Il est aussi possible d'utiliser les qualifiers pour faire l'internationalisation de l'application. Si l'on
            crée une ressource value avec tous les textes de l'application, on pourra dupliquer ce fichier et juste
            traduire le texte. C'est le système qui en fonction de la langue va choisir le fichier à exécuter.
        </p>
                     <p class="bullet-diamond">Il faudra au minimum fait le fichier pour la langue par défaut et le fichier pour la langue voulue.</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_qualifier_local.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Ici on a trois fichiers qui ont le même nom. Pour chaque string, on a mis exactement la même clef. La seule
            chose qui change, c'est la valeur de chacun. Se sera le système qui décidera de choisir le fichier adapté.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_la_class_r"></div>
                     <h2>La Class R</h2>
                     <p class="bullet-diamond">Pour permettre de faire le lien entre les ressources et le code Java ou les ressources et le XML, android
            utiliser une classe avec des int dedans pour cela.
        </p>
                     <p class="bullet-diamond">À chaque fois que l'on ajoute une ressource, android génère un int permettant d'identifier cette ressource.
            Il ajoute ce int dans la classe R. Voici a quoi ressemble cette classe.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPnH"><code class="java">
                    public class R {
                        public static class layout{
                            public static final int activity_main = 0xabc123;
                            public static final int my_layout = 0xabc124;
                            public static final int other_layout = 0xabc125;
                        }
                        public static class drawable{
                            public static final int image1 = 0xbcd123;
                            public static final int image2 = 0xbcd124;
                            public static final int chat = 0xbcd125;
                        }
                        public static class string{
                            public static final int msg_welcom = 0xefa123;
                            public static final int app_name = 0xefa124;
                            public static final int msg_btn_send = 0xefa125;
                        }
                        public static class color{
                            public static final int color_texte = 0x456fa12;
                            public static final int color_btn = 0x456fa13;
                            public static final int color_border = 0x456fa14;
                            public static final int color_title = 0x456fa15;
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPnH">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_acceder_aux_ressources_en_java"></div>
                     <h3>Accéder aux ressources en Java</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPpD"><code class="java">
                    Resources resources = context.getResources();
                    String stringRessource = resources.getString(R.string.key_ressource);
                    
                    //XXX resValue = resources.getXXX(id);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPpD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Depuis le context on peut récupérer toutes les ressources par l'intermédiaire de la classe R.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_acceder_aux_ressources_en_xml"></div>
                     <h3>Accéder aux ressources en XML</h3>
                     <p class="bullet-diamond">En xml pour accéder aux ressources, on va utiliser le @</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPrF"><code class="xml">
                    @[package:]type_ressource/nom_ressource
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPrF">Copie</button></div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">"package" : est optionnel, utilisé pour distinguer les classes R et android.R</li>
                        <li class="list-group-item">"type" : correspond au type de ressources (layout, drawable, string, id)</li>
                        <li class="list-group-item">"nom" : correspond au nom de la constante déclarée dans R</li>
                     </ul>
                     <p class="bullet-diamond">Dans le cas des id on pourra avoir en plus le "+"</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPrL"><code class="xml">
                    @+[package:]type/nom
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPrL">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_string_dynamique_dans_les_ressources"></div>
                     <h2>String Dynamique dans les ressources</h2>
                     <p class="bullet-diamond">Il est possible d'aller injecter du texte dans un String en utilisant la fonction format</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPtF"><code class="xml">
                    &lt;string name="dyn1"&gt;Hello %1$s, you have %2$d years&lt;/string&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPtF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">%n indiquer le rang de l'argument à insérer (%1 correspond au premier argument, %2 au deuxième argument,
            etc.) ;
        </p>
                     <p class="bullet-diamond">$x, qui indique quel type d'information on veut ajouter ($s pour une chaîne de caractères et $d)</p>
                     <p class="bullet-diamond">Dans le code java on pourra aller remplacer les %n pour la valeur voulue.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPtN"><code class="java">
                    Resources res = context.getResources();
                    String chaine = res.getString(R.string.dyn1, "durand", 32);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPtN">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_le_repertoire_asset"></div>
                     <h2>Le répertoire Asset</h2>
                     <p class="bullet-diamond">Quand dans android on veut ajouter une liste d'image, de fichier ou autre sans se préoccuper du nom, ou que
            l'on désire sauvegarder du contenu pendant l'utilisation de l'application, on va pouvoir utiliser le
            repertoire asset.
        </p>
                     <p class="bullet-diamond">Pour ajouter le répertoire asset : clique droit, New &gt; Folder &gt; asset Folder</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/ressources_assets_folder.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Toutes les images du UI vont se retrouver dans le repertoire drawable, mais les images que l'on utilise
            pendant que l'application fonctionne seront préférablement sauvegarder dans asset/.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_les_methodes_de_assetmanager"></div>
                     <h2>Les méthodes de AssetManager</h2>
                     <p class="bullet-diamond">Sur l'objet AssetManager il existe plusieurs méthodes intéressantes</p>
                     <ul class="list-group">
                        <li class="list-group-item">open(String path) : renvoie un inputStream du fichier que l'on veut ouvrir</li>
                        <li class="list-group-item">
                list(String path) : renvoie un tableau de String[] pour le path préciser.
            </li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_acceder_a_un_fichier_depuis_asset"></div>
                     <h3>Accéder à un fichier depuis asset</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPzD"><code class="java">
                    AssetManager assetManager = getasset(); //into activity
                    AssetManager assetManager = context.getasset(); // everywhere in application
                    try {
                        InputStream inputStream = assetManager.open("fileName");
                    } catch (IOException e) {
                        throw new RuntimeException(e);
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPzD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Grâce à la méthode open, on va pouvoir récupérer les fichiers désirés depuis asset.</p>
                     <p class="bullet-diamond">Si c'est une image, on va pouvoir la retransformer en Bitmap ou en Drawable</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdPzJ"><code class="java">
                    InputStream inputStream = assetManager.open("fileName");
                    Drawable drawableImage = Drawable.createFromStream(inputStream, null);
                    Bitmap bitmapImage = BitmapFactory.decodeStream(inputStream);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdPzJ">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_lister_les_fichiers_dans_asset"></div>
                     <h3>Lister les fichiers dans Asset</h3>
                     <p class="bullet-diamond">Si on a un répertoire /img dans asset</p>
                     <!--         TODO ajouter exemple pour lister fichier dans asset-->
      </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_menus"></div>
                  <h1><span class="badge badge-secondary">Les menus</span></h1>
                  <article class="contain-h2">
                     <div id="id_les_differents_types_de_menu"></div>
                     <h2>Les différents types de menu</h2>
                     <p class="bullet-diamond">
          Référence vers la
            
          <a target="_blank" href="https://developer.android.com/develop/ui/views/components/menus">DOC</a>
        </p>
                     <p class="bullet-diamond">Les menus sont un composant d'interface utilisateur courant dans de nombreux types d'applications.</p>
                     <p class="bullet-diamond">Depuis Android 3.0 (API 11), les appareils ne sont plus tenus de fournir un bouton physique pour le menu.
            Pour palier è ce problème, on hérite de AppCompatActivity qui va gérer l'absence ou la présence du menu.
        </p>
                     <p class="bullet-diamond">Il existe trois types de menu</p>
                     <ul class="list-group">
                        <li class="list-group-item">Menu d'option (menu hamburger) et barre d'action</li>
                        <li class="list-group-item">Menu Contextuel</li>
                        <li class="list-group-item">Popup menu</li>
                     </ul>
                     <p class="bullet-diamond">Dans le cadre du cours, on détaillera que le premier type de menu. Les autres s'utilisent de façon
            similaire
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_definition_du_menu_xml"></div>
                     <h2>Définition du menu XML</h2>
                     <p class="bullet-diamond">
          Comme pour les vues, on peut utiliser le xml pour définir un menu. Le fichier se retrouvera dans le
            répertoire 
          <kbd>res/menu</kbd>
          .
        
        </p>
                     <p class="bullet-diamond">Android Studio a ajouté un Menu Éditeur graphique pour la création des menus.</p>
                     <p class="bullet-diamond">Pour créer un nouveau menu XML vous devez faire :</p>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/menu_file_creation.png" alt=""></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm">
                              <ul class="list-group">
                                 <li class="list-group-item">clic droit sur le répertoire res</li>
                                 <li class="list-group-item">New</li>
                                 <li class="list-group-item">Android resource file</li>
                                 <li class="list-group-item">selection menu into resource type</li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <p class="bullet-diamond">il existe 3 tags pour définir les menus</p>
                     <ul class="list-group">
                        <li class="list-group-item">menu : conteneur pour les autres menus ou items. Doit être le tag parent dans le fichier XML.</li>
                        <li class="list-group-item">item</li>
                        <li class="list-group-item">group</li>
                     </ul>
                     <div class="text-center">
                        <div class="card">
                           <div class="card-body">
                              <div class="card-body-img"><img class="img-fluid rounded" src="../asset/menu_view.png" alt=""></div>
                           </div>
                        </div>
                     </div>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm-4">
                              <ul class="list-group">
                                 <li class="list-group-item">id : un ID unique qui permettra d'identifier cet item, doit être unique dans le fichier
                            XML
                        </li>
                                 <li class="list-group-item">title : texte qui sera afficher</li>
                                 <li class="list-group-item">icon : référence vers l'image de l'icône</li>
                                 <li class="list-group-item">
                  showAsAction : pour définir si le menu est dans l'action bar ou dans le menu. Valeurs
                            possibles :
                            
                  <ul class="list-group">
                                       <li class="list-group-item">always</li>
                                       <li class="list-group-item">ifRoom</li>
                                       <li class="list-group-item">never</li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                           <div class="col-sm-8">
                              <div class="card">
                                 <div class="card-body">
                                    <pre id="code_snippet_d24aAdRfRbDb"><code class="xml">
                                &lt;menu xmlns:android="http://schemas.android.com/apk/res/android"
                                    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;
                                &lt;item
                                        android:id="@+id/menu_play"
                                        android:icon="@android:drawable/ic_media_play"
                                        android:title="play"
                                        app:showAsAction="always" /&gt;
                                &lt;item
                                        android:id="@+id/menu_stop"
                                        android:icon="@android:drawable/ic_media_stop"
                                        android:title="stop"
                                        app:showAsAction="always" /&gt;
                                &lt;item
                                        android:id="@+id/menu_next"
                                        android:title="next"
                                        app:showAsAction="always" /&gt;
                                &lt;item
                                        android:id="@+id/menu_pause"
                                        android:icon="@android:drawable/ic_media_pause"
                                        android:title="pause"
                                        app:showAsAction="ifRoom" /&gt;
                                &lt;item
                                        android:id="@+id/menu_reset"
                                        android:title="reset"
                                        app:showAsAction="never" /&gt;
                            &lt;/menu&gt;
                            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdRfRbDb">Copie</button></div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_menu_d'option_ou_action"></div>
                     <h2>Menu d'option ou action</h2>
                     <p class="bullet-diamond">Après définition du menu en XML, il va falloir l'associer à l'activité ou on veut qu'il s'affiche</p>
                     <p class="bullet-diamond">Pour cela on va redéfinir la méthode onCreateOptionMenu</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdRhH"><code class="java">
                @Override
                public boolean onCreateOptionsMenu(Menu menu) {
                    MenuInflater menuInflater = getMenuInflater();
                    menuInflater.inflate(R.menu.layout_menu, menu);
                    return true;
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdRhH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Comme pour le XML des views on a un dé-sérialiseur, ici le MenuInflater</p>
                     <p class="bullet-diamond">Pour ajouter programmatiquement un item on doit utiliser la méthode add() de l'objet Menu</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdRhN"><code class="java">
                @Override
                public boolean onCreateOptionsMenu(Menu menu) {
                    int idItem = 1;        // exemple pour ajouter un item
                    int order = 1;
                    MenuItem menuItem = menu.add(0, idItem, order, "mon menu");
                    return true;
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdRhN">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_&#10;__________gerer_l'evenement&#10;____________&#10;__________clic&#10;________"></div>
                     <h2>
          Gérer l'événement
            
          <a target="_blank" href="https://developer.android.com/develop/ui/views/components/menus#RespondingOptionsMenu">clic</a>
        </h2>
                     <p class="bullet-diamond">Lorsque l'utilisateur sélectionne un élément dans le menu des options (ou l'action bar), le système appelle
            la méthode onOptionsItemSelected() de votre activité. Cette méthode transmet le MenuItem sélectionné.
        </p>
                     <p class="bullet-diamond">On pourra identifier l'item sélectionné grâce à getItemId</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdRjH"><code class="java">
                @Override
                public boolean onOptionsItemSelected(@NonNull MenuItem item) {
                    boolean retour = super.onOptionsItemSelected(item);
                    switch (item.getItemId()) {
                        case R.id.menu_play:
                            //action todo
                            retour = true;
                            break;
                        case R.id.menu_stop:
                            //action todo
                            retour = true;
                            break;
                        case R.id.menu_pause:
                            //action todo
                            retour = true;
                            break;
                        case R.id.menu_next:
                            //action todo
                            retour = true;
                            break;
                        case R.id.menu_reset:
                            //action todo
                            retour = true;
                            break;
                    }
                    return retour;
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdRjH">Copie</button></div>
                     </div>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_dialogs"></div>
                  <h1><span class="badge badge-secondary">Les Dialogs</span></h1>
                  <p class="bullet-diamond">
        Référence vers la
        
        <a target="_blank" href="https://developer.android.com/develop/ui/views/components/dialogs">DOC</a>
      </p>
                  <p class="bullet-diamond">Une boîte de dialogue est une petite fenêtre qui affiche à l'utilisateur de l'information, ou lui permet de
        prendre une décision ou à saisir des informations supplémentaires.
    </p>
                  <p class="bullet-diamond">Les boîtes de dialogue sont dites modales:</p>
                  <ul class="list-group">
                     <li class="list-group-item">elles bloquent l’interaction avec l'activité en dessous et oblige à faire une action</li>
                     <li class="list-group-item">elles passent au premier plan et l'activité en dessous est em surbrillance.</li>
                  </ul>
                  <article class="contain-h2">
                     <div id="id_introduction"></div>
                     <h2>Introduction</h2>
                     <p class="bullet-diamond">
          La classe de base pour faire un dialog est 
          <kbd>Dialog</kbd>
           mais on ne va pas utiliser celle-ci
            directement. Il faudrait tout redéfinir ce qui serait beaucoup de travail à chaque fois. On va plutôt
            utiliser une des classes enfant déjà écrite pour nous :
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">AlertDialog : Une boîte de dialogue qui peut afficher un titre, jusqu'à trois boutons, une liste
                d'éléments sélectionnables ou une mise en page personnalisée.
            </li>
                        <li class="list-group-item">DatePickerDialog ou TimePickerDialog : Une boîte de dialogue avec une interface utilisateur prédéfinie
                qui permet à l'utilisateur de sélectionner une date ou une heure.
            </li>
                     </ul>
                  </article>
                  <article class="contain-h2">
                     <div id="id_modele_builder"></div>
                     <h2>Modèle Builder</h2>
                     <p class="bullet-diamond">Pour créer des AlertDialog il faut utiliser le modèle Builder (Builder pattern).</p>
                     <p class="bullet-diamond">Ce modèle permet de construire des objets complexes simplement.</p>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm text-center">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/builder.png" alt=""></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm">
                              <p class="bullet-diamond">Utilise les méthodes sur le builder</p>
                              <p class="bullet-diamond">méthode create va créer une instance de l'AlertDialog</p>
                              <p class="bullet-diamond">permet de créer rapidement un objet en évitant toute la complexité</p>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_alertdialog"></div>
                     <h2>AlertDialog</h2>
                     <p class="bullet-diamond">La classe AlertDialog vous permet de créer une variété de design différent.</p>
                     <p class="bullet-diamond">Ce sera souvent la seule dont vous aurez besoin.</p>
                     <div class="container-fluid">
                        <div class="row align-items-center">
                           <div class="col-sm text-center">
                              <div class="card">
                                 <div class="card-body">
                                    <div class="card-body-img"><img class="img-fluid rounded" src="../asset/alert_dialog_layout.png" alt=""></div>
                                 </div>
                              </div>
                           </div>
                           <div class="col-sm">
                              <p class="bullet-diamond">1 - Titre : permet d'afficher un titre en haut, optionnel</p>
                              <p class="bullet-diamond">2 - Zone de contenue : très flexible, elle permet d'afficher un message, des listes ou une vue
                        personnalisée.
                    </p>
                              <p class="bullet-diamond">3 - Les boutons d'action : au nombre de trois maximums, optionnel</p>
                           </div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_un_message_simple"></div>
                     <h3>un message simple</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTrD"><code class="java">
                AlertDialog.Builder builder = new AlertDialog.Builder(context);
                builder.setTitle("my wonderful title");
                builder.setMessage("my beautiful Message to print ");
                AlertDialog dialog = builder.create();
                dialog.show();
                //or
                AlertDialog dialog = builder.show();
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTrD">Copie</button></div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">setTitle : permet de définir le titre</li>
                        <li class="list-group-item">setMessage : définir le contenu sous format texte</li>
                        <li class="list-group-item">create ou show : il est possible de faire create sur le builder puis show sur l'alertdialog, ou
                directement show sur le builder qui renvoie aussi l'instance de l'alertdialog.
            </li>
                     </ul>
                     <p class="bullet-diamond">On peut aussi utiliser des strings qui proviendraient des ressources comme R.string.title_ad</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ajouter_des_boutons"></div>
                     <h3>Ajouter des boutons</h3>
                     <p class="bullet-diamond">Permet de demander une action à l'utilisateur et définir l'action à faire.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTtF"><code class="java">
                AlertDialog.Builder builder = new AlertDialog.Builder(context);
                builder.setTitle("my wonderful title");
                builder.setMessage("my beautiful Message to print ");
                builder.setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        //action if yes is select
                    }
                });
                builder.setNeutralButton("i don't know", new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        //action if i don't know is select
                    }
                });
                builder.setNegativeButton("no", new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        //action if no select
                    }
                });
                AlertDialog dialog = builder.show();
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTtF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ajouter_une_liste_d'elements"></div>
                     <h3>Ajouter une liste d'éléments</h3>
                     <p class="bullet-diamond">On peut ajouter 3 types de liste :</p>
                     <ul class="list-group">
                        <li class="list-group-item">Liste simple traditionnel</li>
                        <li class="list-group-item">Liste avec un choix possible (radio boutons)</li>
                        <li class="list-group-item">Liste avec plusieurs choix possible (checkboxes)</li>
                     </ul>
                  </article>
                  <article class="contain-h4">
                     <div id="id_liste_simple"></div>
                     <h4>Liste simple</h4>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTxD"><code class="java">
                String[] items = new String[]{"orange","blue","green"};
                AlertDialog.Builder builder = new AlertDialog.Builder(context);
                builder.setTitle("my wonderful title");
                builder.setItems(items, new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        String value = items[which];//which = position of item select
                    }
                });
                AlertDialog dialog = builder.show();
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTxD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Pour ajouter la liste d'éléments, on pourrait aussi utiliser les ressources avec un string-array</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTxH"><code class="xml">
                &lt;string-array name="colors_list"&gt;
                    &lt;item&gt;orange&lt;/item&gt;
                    &lt;item&gt;blue&lt;/item&gt;
                    &lt;item&gt;green&lt;/item&gt;
                &lt;/string-array&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTxH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">on aurait alors dans le code</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTxL"><code class="java">
                builder.setItems(R.array.colors_list, new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        String[] items = getResources().getStringArray(R.array.colors_list); //pour récupérer les données depuis le répertoire Ressource
                        String value = items[which];//which = position of item select
                    }
                });
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTxL">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h4">
                     <div id="id_liste_avec_un_choix_unique"></div>
                     <h4>Liste avec un choix unique</h4>
                     <p class="bullet-diamond">On utilisera la méthode setSingleChoiceItems(int itemsId, int checkedItem,final OnClickListener listener)</p>
                     <ul class="list-group">
                        <li class="list-group-item">itemsId : liste d'élément à afficher. Pourrait être tableau de String aussi</li>
                        <li class="list-group-item">checkedItem : id de l'élément déjà sélectionné -1 si aucun selectionné</li>
                        <li class="list-group-item">listener : événement lorsqu'on clique sur l'un des items.</li>
                     </ul>
                  </article>
                  <article class="contain-h4">
                     <div id="id_liste_avec_un_choix_multiple"></div>
                     <h4>Liste avec un choix multiple</h4>
                     <p class="bullet-diamond">On utilisera la méthode setMultiChoiceItems(int itemsId, boolean[] checkedItems, final
            OnMultiChoiceClickListener listener)
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">itemsId : liste d'élément à afficher. Pourrait être tableau de String aussi</li>
                        <li class="list-group-item">checkedItems : permet de dire qui est sélectionné, null si aucun</li>
                        <li class="list-group-item">listener : événement lorsqu'on clique sur l'un des items.</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_definir_une_vue_personnalise"></div>
                     <h3>Définir une vue personnalisé</h3>
                     <p class="bullet-diamond">Il faut en premier créer une vue, soit programmatiquement, soit en utilisant un fichier xml. Ensuite, il faut
            utiliser la méthode setView(View) sur le Builder pour définir la vue.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <h5 class="card-title">vue définie en xml</h5>
                           <pre id="code_snippet_d24aAdTadF"><code class="xml" data-title="vue définie en xml">
                &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:orientation="vertical"&gt;
                    &lt;LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"&gt;
                        &lt;TextView
                                android:layout_width="0px"
                                android:layout_height="wrap_content"
                                android:layout_weight="30"
                                android:text="login : " /&gt;
                        &lt;EditText
                                android:id="@+id/ed_login_ad"
                                android:layout_width="0px"
                                android:layout_height="wrap_content"
                                android:layout_weight="70" /&gt;
                    &lt;/LinearLayout&gt;
                    &lt;LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"&gt;
                        &lt;TextView
                                android:layout_width="0px"
                                android:layout_height="wrap_content"
                                android:layout_weight="30"
                                android:text="password : " /&gt;
                        &lt;EditText
                                android:id="@+id/ed_password_ad"
                                android:layout_width="0px"
                                android:layout_height="wrap_content"
                                android:layout_weight="70" /&gt;
                    &lt;/LinearLayout&gt;
                &lt;/LinearLayout&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTadF">Copie</button></div>
                     </div>
                     <div class="card">
                        <div class="card-body">
                           <h5 class="card-title">code java pour un alert dialog avec une vue perso</h5>
                           <pre id="code_snippet_d24aAdTadH"><code class="java" data-title="code java pour un alert dialog avec une vue perso">
                AlertDialog.Builder builder = new AlertDialog.Builder(context);
                builder.setTitle("my wonderful title");
                View view = LayoutInflater.from(context).inflate(R.layout.alert_dialog_layout,null);
                builder.setView(view);
                AlertDialog dialog = builder.show();
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTadH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On peut utiliser la méthode findViewById sur view pour mettre la main sur les éléments de la vue de
            l'alertdialog.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTadL"><code class="java">
                EditText edLogin = view.findViewById(R.id.ed_login_ad);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTadL">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h4">
                     <div id="id_definir_un_evenement"></div>
                     <h4>définir un événement</h4>
                     <p class="bullet-diamond">On pourrait très bien ajouter un bouton dans la vue et redéfinir l'événement dessus, on pourrait aussi
            ajouter les boutons prédéfinis du builder.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdTafF"><code class="java">
                builder.setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        AlertDialog alertDialog = (AlertDialog) dialog;
                        EditText edLogin = alertDialog.findViewById(R.id.ed_login_ad);
                    }
                });
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdTafF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          Lors de la redéfinissions de l'événement, on peut mettre la main sur l'alertdialog en castant (DownCast) le
            DialogInterface. On peut alors aller récupérer n'importe quel élément de la vue avec 
          <kbd>findViewById</kbd>
          .
        
        </p>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_vues_personnalisees"></div>
                  <h1><span class="badge badge-secondary">Les vues personnalisées</span></h1>
                  <article class="contain-h2">
                     <div id="id_les_differentes_vues_personnalisees"></div>
                     <h2>Les différentes vues personnalisées</h2>
                     <p class="bullet-diamond">
          Quand on développe des interfaces graphiques dans android il se peut que les vues pré-construites ne soient
            pas suffisantes. Il va alors falloir faire votre propre vue.
            
          <a target="_blank" href="https://developer.android.com/develop/ui/views/layout/custom-views/custom-components">DOC</a>
        </p>
                     <p class="bullet-diamond">Que se soit dans Android en Java ou dans un autre type vue (Swing, WPF) il existe 3 types de vues
            personnalisées.
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">Vue par combinaison</li>
                        <li class="list-group-item">Vue par redéfinition</li>
                        <li class="list-group-item">
            Vue de zéro
                
            <ul class="list-group">
                              <li class="list-group-item">Depuis un View</li>
                              <li class="list-group-item">Depuis un ViewGroup</li>
                           </ul>
                        </li>
                     </ul>
                     <p class="bullet-diamond">Pour les deux derniers types de vue il faudra comprendre davantage comment la classe View fonctionne.</p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_vue_par_combinaison"></div>
                     <h2>Vue par combinaison</h2>
                     <p class="bullet-diamond">Dans la vue pas combinaison, le but va être de combiner des vues pré-existantes pour faire notre propre
            vue.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_inputview"></div>
                     <h3>InputView</h3>
                     <p class="bullet-diamond">Prenons l'exemple d'un champ de formulaire. En général on a toujours un label et une zone de selection de la
            valeur.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/view_input_view.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Ici il faudra créer une classe InputView qui va hériter de LinearLayout.</p>
                     <p class="bullet-diamond">L'avantage et que toute la logique se retrouve dans InputView</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVhL"><code class="java">
                    public class InputView extends LinearLayout {
                        TextView textView;
                        EditText editText;
                        public InputView(Context context) {
                            super(context);
                            init();
                        }
                        private void init() {
                            setOrientation(HORIZONTAL);
                            textView = new TextView(getContext());
                            editText = new EditText(getContext());
                            LayoutParams layoutParamsTextView = new LayoutParams(0, ViewGroup.LayoutParams.WRAP_CONTENT, 30);
                            LayoutParams layoutParamsEditText = new LayoutParams(0, ViewGroup.LayoutParams.WRAP_CONTENT, 70);
                            textView.setLayoutParams(layoutParamsTextView);
                            textView.setGravity(Gravity.CENTER);
                            textView.setText("default");
                            editText.setLayoutParams(layoutParamsEditText);
                            addView(textView);
                            addView(editText);
                        }
                        public void setLabel(String label) {
                            textView.setText(label);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVhL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ici in fait une démo ou on construit tous les objets de la vue programmatiquement, mais on aurait pu faire un
            layout XML et utiliser l'inflateur pour l'affecter à la vue.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVhP"><code class="java">
                    public class MainActivity extends AppCompatActivity {
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            LinearLayout llMain = new LinearLayout(context);
                            llMain.setOrientation(LinearLayout.VERTICAL);
                            setContentView(llMain);
                            InputView inputName = new InputView(context);
                            inputName.setLabel("name");
                            InputView inputAge = new InputView(context);
                            inputAge.setLabel("age");
                    
                            llMain.addView(inputName);
                            llMain.addView(inputAge);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVhP">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Il est maintenant facile de rajouter une nouvelle InputView dans notre Layout</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/view_input_view_result.png"></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_inputview_en_xml"></div>
                     <h3>InputView en XML</h3>
                     <p class="bullet-diamond">Dans Android on a aussi la flexibilité de pouvoir utiliser nos vues personnalisées en Java, mais aussi en
            XML
        </p>
                     <p class="bullet-diamond">
          Pour être capable d'utiliser cette vue dans un layout XML il faut 
          <b>absolument</b>
           implémenter le
            constructeur utilisé pendant la dé-sérialisation.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVjH"><code class="java">
                    public InputView(Context context) {
                        super(context);
                        //constructor Java
                        init();
                    }
                    public InputView(Context context, @Nullable AttributeSet attrs) {
                        super(context, attrs);
                        //constructor use by xml de-serialization
                        init();
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVjH">Copie</button></div>
                     </div>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVjJ"><code class="xml">
                    &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                            xmlns:app="http://schemas.android.com/apk/res-auto"
                            xmlns:tools="http://schemas.android.com/tools"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:orientation="vertical"
                            tools:context=".MainActivity"&gt;
                        &lt;com.cours.devcoursandroid.InputView
                                android:id="@+id/in_name"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"/&gt;
                        &lt;com.cours.devcoursandroid.InputView
                                android:id="@+id/in_age"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"/&gt;
                    &lt;/LinearLayout&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVjJ">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On peut maintenant ajouter autant de vue InputView que l'on veut dans le XML, le problème est qu'on
            désirerait être capable d'ajouter des attributs XML personnalisés. On vas aussi pouvoir le faire, mais on
            doit respecter certaines étapes
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_declarer_un_styleable"></div>
                     <h4>déclarer un styleable</h4>
                     <p class="bullet-diamond">
          Dans les resources il faut ajouter une nouvelle resource de type 
           &lt;declare-styleable&gt;
          , on pourra
            alors spécifier les attributs que l'on veut ajouter et le type de chacun.
            
          <a target="_blank" href="https://developer.android.com/develop/ui/views/layout/custom-views/create-view#customattr">DOC</a>
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVlF"><code class="xml">
                    &lt;declare-styleable name="InputView"&gt;
                        &lt;attr name="label" format="string"/&gt;
                        &lt;attr name="color" format="color" /&gt;
                    &lt;/declare-styleable&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVlF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">La valeur de l'attribut name de declare-styleable doit être le même que le nom de la classe héritant de
            View
        </p>
                     <p class="bullet-diamond">Dès maintenant on peut ajouter un attribut label sur notre vue. Le seul problème, c'est que l'inflateur ne
            sait pas encore comment appliquer cet attribut. On va devoir préciser ceci dans le deuxième constructeur.
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_appliquer_les_attributs_dans_le_constructeur_xml"></div>
                     <h4>Appliquer les attributs dans le constructeur XML</h4>
                     <p class="bullet-diamond">Quand on dé-sérialise une vue XML tous les attributs sont passés dans AttributeSet. Android nous permet de
            récupérer dans un TypedArray seulement les attributs personnalisés de notre vue.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVnF"><code class="java">
                    public InputView(Context context, @Nullable AttributeSet attrs) {
                        super(context, attrs);
                        //constructor use by xml de-serialization
                        init();
                        TypedArray customAttribut = getContext().obtainStyledAttributes(attrs, R.styleable.InputView);
                        String labelValueFromXML = customAttribut.getString(R.styleable.InputView_label);
                        int colorText = customAttribut.getColor(R.styleable.InputView_color, Color.BLACK);
                        textView.setTextColor(colorText);
                        setLabel(labelValueFromXML);
                        customAttribut.recycle();
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVnF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h4">
                     <div id="id_resultat"></div>
                     <h4>Résultat</h4>
                     <p class="bullet-diamond">Voici un exemple du XML avec ce que l'on obtient dans la vue</p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/view_xml_attribut_result.png"></div>
                        </div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_fonctionnement_des_view"></div>
                     <h2>Fonctionnement des View</h2>
                     <!-- TODO add better explanation -->
        <p class="bullet-diamond">Comme les deux prochains types de view nécessite d'aller modifier la vue, il nous faut d'abord comprendre
            comment fonctionne la classe View.
        </p>
                     <p class="bullet-diamond">
          Lors du procédé de construction de chaque View, plusieurs méthodes du cycle de vie d'une View sont appelées
            
          <a target="_blank" href="https://developer.android.com/reference/android/view/View#implementing-a-custom-view">DOC</a>
          .
            Voici les principales :
        
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">onMeasure</li>
                        <li class="list-group-item">onLayout</li>
                        <li class="list-group-item">onDraw</li>
                     </ul>
                     <p class="bullet-diamond">La réalisation du layout et un procédé en 2 passages :</p>
                     <ul class="list-group">
                        <li class="list-group-item">passage pour donner la taille</li>
                        <li class="list-group-item">passage pour donner la position</li>
                     </ul>
                     <p class="bullet-diamond">Finalement une fois que toutes les vues sont dimensionnées et positionnées, ce sera le temps du dessin avec
            onDraw
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_passage_pour_la_taille"></div>
                     <h3>passage pour la taille</h3>
                     <p class="bullet-diamond">
          L'étape de la mesure se fera dans 
          <kbd>onMeasure</kbd>
           et se passera aussi en deux passages du haut vers le
            bas dans l'arbre de composant
        
        </p>
                     <p class="bullet-diamond">C'est donc le parent qui sera responsable d'appeler measure sur les enfants.</p>
                     <p class="bullet-diamond">Il existe deux valeurs de taille dans une View, la taille qu'elle voudrait avoir (measureWidth/measureHeight)
            et la taille qu'elle aura réellement dans la vue (width/height).
        </p>
                     <p class="bullet-diamond">C'est pour cela que measure est appelée deux fois.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVtL"><code class="java">
                    @Override
                    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
                        int measureWidth = MeasureSpec.makeMeasureSpec(200, MeasureSpec.AT_MOST);
                        int measureHeight = MeasureSpec.makeMeasureSpec(60, MeasureSpec.AT_MOST);
                        setMeasuredDimension(measureWidth, measureHeight); //must be call to give size
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVtL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">La méthode setMeasureDimension permet de définir la taille désirée par la vue.</p>
                     <p class="bullet-diamond">Pour spécifier le comportement de la vue il measure est en fait une valeur composée de 2 données. La taille
            que l'on veut avoir et une indication pour le parent pour savoir s'il peut changer ou non la taille de
            l'enfant.
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">UNSPECIFIED</li>
                        <li class="list-group-item">EXACTLY</li>
                        <li class="list-group-item">AT_MOST</li>
                     </ul>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVtT"><code class="java">
                    int measure = MeasureSpec.makeMeasureSpec(sizeInPixel, MeasureSpec.AT_MOST);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVtT">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_passage_pour_le_positionnement"></div>
                     <h3>Passage pour le positionnement</h3>
                     <p class="bullet-diamond">Une fois dimensionné, c'est le parent qui est responsable d'appeler layout pour positionner tous les
            enfants.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_dessiner_la_vue"></div>
                     <h3>Dessiner la vue</h3>
                     <p class="bullet-diamond">Ici c'est la méthode onDraw qui est appelée pour expliquer comment dessiner la vue.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVxF"><code class="java">
                    @Override
                    protected void onDraw(Canvas canvas) {
                        super.onDraw(canvas); // if we want draw parent
                        canvas.drawRect(0,0,getWidth(), 50, new Paint());
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVxF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">C'est à travers l'objet Canvas que l'on va pouvoir dessiner des rectangles, lignes, points, texte ou images
        </p>
                     <p class="bullet-diamond">Lorsque l'on change la vue et que l'on veut que la redessiner, on peut appeler programmatiquement
            invalidate() pour redessiner la vue.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_vue_par_redefinissions"></div>
                     <h2>Vue par redéfinissions</h2>
                     <p class="bullet-diamond">Dans le cas ou la vue existante nous convient presque et que l'on veut juste ajouter des détails de dessin
            dessus, il nous suffit d'en hériter et de redéfinir onDraw.
        </p>
                     <p class="bullet-diamond">Voici un exemple où on voudrait ajouter un rectangle sur un bouton.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdVzH"><code class="java">
                    public class CustomButton extends Button implements View.OnClickListener {
                        Paint paint;
                        RectF positionRect;
                        float rectSize;
                        public CustomButton(Context context) {
                            super(context);
                            paint = new Paint(Paint.ANTI_ALIAS_FLAG);
                            paint.setColor(Color.rgb(255, 10, 10));
                            rectSize = 50;
                            setOnClickListener(this);
                            positionRect = new RectF();
                        }
                        @Override
                        protected void onLayout(boolean changed, int left, int top, int right, int bottom) {
                            super.onLayout(changed, left, top, right, bottom);
                            positionRect.set(left + rectSize, getPaddingTop(), left + (2 * rectSize), getHeight() - getPaddingBottom());
                        }
                        @Override
                        protected void onDraw(Canvas canvas) {
                            super.onDraw(canvas);
                            canvas.drawRect(positionRect, paint);
                        }
                        @Override
                        public void onClick(View v) {
                            paint.setColor(Color.rgb(getRandomNb(), getRandomNb(), getRandomNb()));
                            invalidate(); //to redraw view
                        }
                        private int getRandomNb() {
                            return (int) (Math.random() * 255);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdVzH">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_vue_de_zero"></div>
                     <h2>Vue de zéro</h2>
                     <p class="bullet-diamond">Lorsque la vue que l'on veut n'existe pas il faudra alors tout faire, pas seulement redéfinir onDraw, mais
            aussi onMeasure. Très puissant, mais plus complexe à implémenter, souvent utilisé pour faire des jeux.
        </p>
                     <!-- TODO finish view from scratch -->
      </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_evenements_android"></div>
                  <h1><span class="badge badge-secondary">Les événements Android</span></h1>
                  <p class="bullet-diamond">Il existe plusieurs façons d'intercepter les événements provenant de l'utilisateur. L'approche consiste à
        capturer les événements à partir de l'objet View spécifique avec lequel l'utilisateur interagit. La classe View
        fournit plusieurs moyens de le faire.
    </p>
                  <p class="bullet-diamond">On peut catégoriser ces événements en 2 types :</p>
                  <ul class="list-group">
                     <li class="list-group-item">"Les classiques" comme vu en java ou en C#</li>
                     <li class="list-group-item">Les spécialisés à Android</li>
                  </ul>
                  <article class="contain-h2">
                     <div id="id_les_evenements_classiques"></div>
                     <h2>Les événements classiques</h2>
                     <p class="bullet-diamond">Comme déjà utilisé dans d'autres cours. C'est une simple méthode de retour (CallBack) que l'on redéfinie.</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_event_sur_les_view"></div>
                     <h3>Event sur les View</h3>
                     <p class="bullet-diamond">
          <a target="_blank" href="https://developer.android.com/develop/ui/views/touch-and-input/input-events">DOC</a>
        </p>
                     <p class="bullet-diamond">Sur toutes les interfaces qui héritent de View on aura ces événements.</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_onclick"></div>
                     <h4>onClick</h4>
                     <p class="bullet-diamond">Ceci est appelé lorsque l'utilisateur touche l'élément.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXnF"><code class="java">
                    view.setOnClickListener(new View.OnClickListener() {
                        @Override
                        public void onClick(View v) {
                            //action to do
                            v.setBackgroundColor(Color.GREEN);
                        }
                    });
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXnF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On a la View sur laquelle on a cliqué en paramètre de onClick</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_onlongclick"></div>
                     <h4>onLongClick</h4>
                     <p class="bullet-diamond">Déclenché quand l'utilisateur reste appuyé sur une view</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXpF"><code class="java">
                    view.setOnLongClickListener(new View.OnLongClickListener() {
                        @Override
                        public boolean onLongClick(View v) {
                            return true;
                        }
                    });
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXpF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">onLongClick renvoie un boolean, il permet de savoir si l'événement a été consommé ou non.</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_onfocuschange"></div>
                     <h4>onFocusChange</h4>
                     <p class="bullet-diamond">Déclenché lorsque l'utilisateur navigue vers, ou hors de l'élément, en utilisant les touches de navigation
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXrF"><code class="java">
                    view.setOnFocusChangeListener(new View.OnFocusChangeListener() {
                        @Override
                        public void onFocusChange(View v, boolean hasFocus) {
                            if(hasFocus){
                                v.setBackgroundColor(Color.GREEN);
                            }else{
                                v.setBackgroundColor(Color.BLUE);
                            }
                        }
                    });
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXrF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Va fonctionner davantage pour les views qui requièrent une interaction (ex : EditText)</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_evenement_sur_changement_de_text"></div>
                     <h3>Événement sur changement de Text</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXtD"><code class="java">
                    editText.addTextChangedListener(new TextWatcher() {
                        @Override
                        public void beforeTextChanged(CharSequence s, int start, int count, int after) {
                        }
                        @Override
                        public void onTextChanged(CharSequence s, int start, int before, int count) {
                        }
                        @Override
                        public void afterTextChanged(Editable s) {
                        }
                    });
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXtD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Permet de contrôler les actions sur un EditText</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_evenement_sur_checkbox,_radiobutton,_radiogroup,_togglebutton"></div>
                     <h3>Événement sur CheckBox, RadioButton, RadioGroup, ToggleButton</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXvD"><code class="java">
                    radioButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
                        @Override
                        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                        }
                    });
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXvD">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_evenement_specialise"></div>
                     <h2>Événement Spécialisé</h2>
                  </article>
                  <article class="contain-h2">
                     <div id="id_boolean_de_retour"></div>
                     <h2>boolean de retour</h2>
                     <ul class="list-group">
                        <li class="list-group-item">onLongClick</li>
                        <li class="list-group-item">onKey</li>
                        <li class="list-group-item">onTouch</li>
                     </ul>
                     <p class="bullet-diamond">Cela renvoie un booléen pour indiquer si vous avez consommé l'événement et qu'il ne doit
            pas être porté plus loin. Autrement dit, renvoyez true pour indiquer que vous avez géré l'événement et
            qu'il devrait s'arrêter ici ; renvoie false si vous ne l'avez pas géré et/ou si l'événement doit
            continuer pour tous les autres écouteurs au clic.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ontouch"></div>
                     <h3>onTouch</h3>
                     <p class="bullet-diamond">C'est un événement particulier des appareils tactiles. Quand l'utilisateur place 1 ou plusieurs doigts sur
            l'écran ça déclenche la méthode de rappel onTouchEvent.
        </p>
                     <p class="bullet-diamond">L'événement va prendre en compte :</p>
                     <ul class="list-group">
                        <li class="list-group-item">la position</li>
                        <li class="list-group-item">la pression</li>
                        <li class="list-group-item">la taille</li>
                        <li class="list-group-item">le nombre de doigt</li>
                     </ul>
                     <p class="bullet-diamond">C'est à travers l'objet MotionEvent que l'on pourra récupérer toutes ses informations</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_detecter_l'etat"></div>
                     <h4>Détecter l'état</h4>
                     <p class="bullet-diamond">Grâce a la Méthode getActionMasked on est capable de récupérer l'état du touch de l'écran. Savoir si le doigt
            est posé, bouge ou est soulevé
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXadF"><code class="java">
                    public class MainActivity extends AppCompactActivity {
                    ...
                    // exemple pour une activité, mais même approche pour une sous classe de View
                    @Override
                    public boolean onTouchEvent(MotionEvent event){
                    
                        int action = MotionEventCompat.getActionMasked(event);
                    
                        switch(action) {
                            case (MotionEvent.ACTION_DOWN) :
                                Log.d(DEBUG_TAG,"Action was DOWN");
                                break;
                            case (MotionEvent.ACTION_MOVE) :
                                Log.d(DEBUG_TAG,"Action was MOVE");
                                break;
                            case (MotionEvent.ACTION_UP) :
                                Log.d(DEBUG_TAG,"Action was UP");
                                break;
                            case (MotionEvent.ACTION_OUTSIDE) :
                                Log.d(DEBUG_TAG,"Movement occurred outside bounds " +
                                        "of current screen element");
                                break;
                            default :
                        }
                        return true;
                    }
                    
                    //exemple sur une sous-classe de View
                    View myView = findViewById(R.id.my_view);
                    myView.setOnTouchListener(new OnTouchListener() {
                        public boolean onTouch(View v, MotionEvent event) {
                            //action to do
                            return true;
                        }
                    });
                    
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXadF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h4">
                     <div id="id_position_du_ou_des_doigts"></div>
                     <h4>Position du ou des doigts</h4>
                     <p class="bullet-diamond">Dans le cas où on a 1 doigt, getX et getY nous renvoie la position du doigt sur l'écran.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXafF"><code class="java">
                    @Override
                    public boolean onTouchEvent(MotionEvent event) {
                        float xPosition = 0;
                        float yPosition = 0;
                        if(event.getActionMasked() == MotionEvent.ACTION_DOWN){
                            xPosition = event.getX();
                            yPosition = event.getY();
                        }
                        if(event.getActionMasked() == MotionEvent.ACTION_MOVE){
                            xPosition = event.getX();
                            yPosition = event.getY();
                        }
                        return super.onTouchEvent(event);
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXafF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Dans le cas où il y a plusieurs doigts le système génèrent ces touchEvent</p>
                     <p class="bullet-diamond">la méthode getX ou getY peut prendre en paramètre l'index du pointeur dont on veut la position</p>
                     <ul class="list-group">
                        <li class="list-group-item">ACTION_DOWN : Pour le premier pointeur qui touche l'écran. Toujours à l'index 0 dans le MotionEvent.
            </li>
                        <li class="list-group-item">ACTION_POINTER_DOWN : Pour les pointeurs supplémentaires qui entrent dans l'écran après le premier.
                L'index du pointeur peut être obtenu en utilisant getActionIndex().
            </li>
                        <li class="list-group-item">ACTION_MOVE : Une modification s'est produite dans un geste vers un (un ou plusieurs) pointeur(s).</li>
                        <li class="list-group-item">ACTION_POINTER_UP : Lorsqu'un pointeur autre que le dernier est enlevé. L'index du pointeur qui vient de
                sortir peut être obtenu en utilisant getActionIndex().
            </li>
                        <li class="list-group-item">ACTION_UP : Envoyé lorsque le dernier pointeur quitte l'écran. Index 0</li>
                     </ul>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXafN"><code class="java">
                    @Override
                    public boolean onTouchEvent(MotionEvent event) {
                        // get pointer index from the event object
                        int pointerIndex = event.getActionIndex();
                        // get pointer ID from pointerIndex
                        int pointerId = event.getPointerId(pointerIndex);
                        // get action
                        int maskedAction = event.getActionMasked();
                        switch (maskedAction) {
                            case MotionEvent.ACTION_DOWN:
                                Log.d(TAG, "index down: " + pointerId);
                                break;
                            case MotionEvent.ACTION_POINTER_DOWN: {
                                Log.d(TAG, "index down: " + pointerId);
                                break;
                            }
                            case MotionEvent.ACTION_MOVE: { // a pointer was moved
                                Log.d(TAG, "index move: " + pointerId);
                                break;
                            }
                            case MotionEvent.ACTION_UP:
                                Log.d(TAG, "index up: " + pointerId);
                                break;
                            case MotionEvent.ACTION_POINTER_UP:
                                Log.d(TAG, "index up: " + pointerId);
                                break;
                        }
                
                        return true;
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXafN">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_gesture_detector"></div>
                     <h2>Gesture Detector</h2>
                     <p class="bullet-diamond">Pour aider sur les manipulations de l'onTouch, il y a dans le SDK une interface pour détecter certain type de
            mouvement. C'est le GestureDetector
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_implementer_l'interface"></div>
                     <h3>Implementer l'interface</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXajD"><code class="java">
                            public class EventActivity extends AppCompatActivity implements GestureDetector.OnGestureListener {
                                Context context;
                                @Override
                                protected void onCreate(Bundle savedInstanceState) {
                                    super.onCreate(savedInstanceState);
                                    context = this;
                                    setContentView(R.layout.activity_event);
                                }
                                @Override
                                public boolean onDown(MotionEvent e) {
                                    return false;
                                }
                                @Override
                                public void onShowPress(MotionEvent e) {
                                }
                                @Override
                                public boolean onSingleTapUp(MotionEvent e) {
                                    return false;
                                }
                                @Override
                                public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
                                    return false;
                                }
                                @Override
                                public void onLongPress(MotionEvent e) {
                                }
                                @Override
                                public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
                                    return false;
                                }
                            }
                        </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXajD">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ajouter_gesture_detector"></div>
                     <h3>Ajouter Gesture Detector</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXalD"><code class="java">
                    public class EventActivity extends AppCompatActivity implements GestureDetector.OnGestureListener {
                        private String TAG = "debug-app";
                        GestureDetector gestureDetector;
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            setContentView(R.layout.activity_event);
                            gestureDetector = new GestureDetector(this,this);
                        }
                        @Override
                        public boolean onDown(MotionEvent e) {
                            return false;
                        }
                        @Override
                        public void onShowPress(MotionEvent e) {
                        }
                        @Override
                        public boolean onSingleTapUp(MotionEvent e) {
                            return false;
                        }
                        @Override
                        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
                            return false;
                        }
                        @Override
                        public void onLongPress(MotionEvent e) {
                        }
                        @Override
                        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
                            return false;
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXalD">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_lier_gesturedetector_au_ontouchevent"></div>
                     <h3>Lier GestureDetector au onTouchEvent</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdXanD"><code class="java">
                    public class EventActivity extends AppCompatActivity implements GestureDetector.OnGestureListener {
                        private String TAG = "debug-app";
                        GestureDetector gestureDetector;
                        Context context;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            context = this;
                            setContentView(R.layout.activity_event);
                            gestureDetector = new GestureDetector(this,this);
                        }
                        @Override
                        public boolean onTouchEvent(MotionEvent event) {
                            gestureDetector.onTouchEvent(event);
                            return true;
                        }
                        @Override
                        public boolean onDown(MotionEvent e) {
                            return false;
                        }
                        @Override
                        public void onShowPress(MotionEvent e) {
                        }
                        @Override
                        public boolean onSingleTapUp(MotionEvent e) {
                            return false;
                        }
                        @Override
                        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
                            return false;
                        }
                        @Override
                        public void onLongPress(MotionEvent e) {
                        }
                        @Override
                        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
                            return false;
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdXanD">Copie</button></div>
                     </div>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_sauvegarde_des_informations"></div>
                  <h1><span class="badge badge-secondary">Sauvegarde des informations</span></h1>
                  <ul class="list-group">
                     <li class="list-group-item">SharedPreferences</li>
                     <li class="list-group-item">file stream</li>
                     <li class="list-group-item">Base de donnée SQLITE</li>
                  </ul>
                  <article class="contain-h2">
                     <div id="id_sharedpreferences"></div>
                     <h2>SharedPreferences</h2>
        <a target="_blank" href="https://developer.android.com/training/data-storage/shared-preferences">DOC</a>
        <p class="bullet-diamond">Permet d'enregistrer des informations de petites taille dans une collection sous format clef/valeur:</p>
                     <p class="bullet-diamond">Ces informations sont accessibles par n'importe quelle activité de l'application</p>
                     <p class="bullet-diamond">Les données persistent malgré un redémarrage ou une mise à jour de l'application</p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_acceder_aux_sharedpreferences"></div>
                     <h3>Accéder aux SharedPreferences</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZhD"><code class="java">
                //si pas besoin de catégoriser les informations
                SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
                //si besoin de catégoriser
                SharedPreferences sharedPreferencesUser = context.getSharedPreferences("user", Context.MODE_PRIVATE);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZhD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">remarque: on utilise MODE_PRIVATE, mais il n'existe plus d'autre mode que celui-ci. Avant on avait
            MODE_WORLD_WRITEABLE ou MODE_WORLD_READABLE, mais c'est déprécié et si on essaie d'accéder au
            SharedPreferences depuis une autre application, cela déclenche une exception de sécurité
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_acceder_aux_donnees"></div>
                     <h3>Accéder aux données</h3>
                     <p class="bullet-diamond">Depuis l'objet SharedPreferences utiliser les méthodes sharedPreferences.getXXX("key", defautValue) ou XX
            correspond à un type primitif et "key" la clef utilisée pour sauvegarder la donnée.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZjF"><code class="java">
                SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
                String guid = sharedPreferences.getString("id",null);
                int age = sharedPreferences.getInt("age",-1);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZjF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ajouter_des_donnees"></div>
                     <h3>Ajouter des données</h3>
                     <p class="bullet-diamond">Pour ajouter des données de type primitif il faut passer par l'objet SharedPreferences.Editor</p>
                     <p class="bullet-diamond">
          Une fois ajouté il faut utiliser 
          <kbd>commit</kbd>
           ou 
          <kbd>apply</kbd>
           pour synchroniser les infos sur le
            disque.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZlH"><code class="java">
                SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
                SharedPreferences.Editor editor = sharedPreferences.edit();
                editor.putString("userName", "John Doe");
                editor.putFloat("xPosition", 42.56f);
                editor.putFloat("yPosition", 1056.89f);
                editor.apply();
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZlH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">apply() modifie immédiatement l'objet SharedPreferences en mémoire, mais écrit les mises à jour sur le disque
            de manière asynchrone. Vous pouvez également utiliser commit() pour écrire les données sur le disque de
            façon synchrone. Cependant, comme commit() est synchrone, évitez de l'appeler à partir de votre thread
            principal, car cela pourrait suspendre le rendu de l'interface utilisateur.
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_supprimer_des_donnees"></div>
                     <h3>Supprimer des données</h3>
                     <p class="bullet-diamond">On peut soit supprimer toutes les données, soit seulement une donnée par clef.</p>
                     <p class="bullet-diamond">Doit aussi appeler apply ou commit pour synchroniser les modifications</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZnH"><code class="java">
                SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
                SharedPreferences.Editor editor = sharedPreferences.edit();
               
                //suppression par clef
                editor.remove("userName");
                editor.remove("id");
                editor.apply();
               
                //suppression total
                editor.clear();
                editor.apply();
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZnH">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h2">
                     <div id="id_persistance_dans_un_fichier"></div>
                     <h2>Persistance dans un fichier</h2>
                     <p class="bullet-diamond">Même procédé que vue dans le cours de Java I pour manipuler les streams, seul nuance il existe une memoir
            interne ou une memoire externe
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_ecrire/lire_en_interne"></div>
                     <h3>Écrire/Lire en interne</h3>
        <a target="_blank" href="https://developer.android.com/training/data-storage/app-specific#internal">DOC</a>
        <p class="bullet-diamond">Le mode d'accès est forcément privée</p>
                     <p class="bullet-diamond">context.getFilesDir(): Renvoie le chemin absolu du répertoire sur le système de fichiers où les fichiers
            créés avec openFileOutput(String, int) sont stockés.
        </p>
                     <p class="bullet-diamond">Aucune autorisation supplémentaire n'est requise pour que l'application appelante puisse lire ou écrire des
            fichiers sous le chemin renvoyé.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZrL"><code class="java">
            File file = new File(context.getFilesDir(), filename);
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZrL">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ecrire dans un fichier</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZrP"><code class="java">
                String filename = "myFile.txt";
                String fileContents = "Hello world!";
                try (FileOutputStream fos = context.openFileOutput(filename, Context.MODE_PRIVATE)) {
                    fos.write(fileContents.toByteArray());
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZrP">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Lire dans un fichier</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZrT"><code class="java">
                FileInputStream fileInputStream = context.openFileInput(fileName);
                InputStreamReader inputStreamReader =
                        new InputStreamReader(fileInputStream, StandardCharsets.UTF_8);
                StringBuilder stringBuilder = new StringBuilder();
                try (BufferedReader reader = new BufferedReader(inputStreamReader)) {
                    String line = reader.readLine();
                    while (line != null) {
                        stringBuilder.append(line).append('\n');
                        line = reader.readLine();
                    }
                } catch (IOException e) {
                    // Error occurred when opening raw file for reading.
                } finally {
                    String contents = stringBuilder.toString();
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZrT">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_lire/ecrire_dans_la_memoire_externe"></div>
                     <h3>Lire/écrire dans la mémoire externe</h3>
                     <p class="bullet-diamond">Premièrement on doit déclarer une permission dans le manifest</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZtF"><code class="xml">
                &lt;uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" /&gt;
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZtF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Pour tester Débrancher le cable, car sinon la mémoire externe sera "monter" sur le pc</p>
                     <p class="bullet-diamond">Aucune certitude que les données soient présentes, car elles sont publiques et modifiables par toutes les
            autres applications.
        </p>
                     <p class="bullet-diamond">Les repertoires pour stocker des informations suivent un standard pour toutes ses photos, ses musiques et
            fichiers audio.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZtN"><code class="java">
                    File file = new File(Environment.getExternalStorageDirectory().getPath()+ File.separator+ "Android/data"+File.separator + getPackageName() + "/files/"+"myFile.txt" );
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZtN">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Sinon même chose que memoire interne pour manipulation des fichiers.</p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_base_de_donnee_-_bd"></div>
                     <h2>Base de donnée - BD</h2>
                     <p class="bullet-diamond">BD locale, accessible que par l'application (privée) et même que par le téléphone</p>
                     <p class="bullet-diamond">
          Le système de gestion de base de donnée est 
          <a target="_blank" href="https://www.sqlite.org/index.html">SQLite</a>
          .
        
        </p>
                     <p class="bullet-diamond">
          Android conseil d'utiliser leur framework 
          <a target="_blank" href="https://developer.android.com/training/data-storage/room">
            Room
        </a>
           pour accéder aux bases de données. Dans ce cours, on va utiliser l'API SQLite que Room utilise.
        
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_creation_d'une_table_sqlite"></div>
                     <h3>Création d'une table SQLite</h3>
                     <p class="bullet-diamond">
          Dans SQLite il existe que 5
            
          <a target="_blank" href="https://www.sqlite.org/datatype3.html">types</a>
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">NULL</li>
                        <li class="list-group-item">INTEGER</li>
                        <li class="list-group-item">REAL</li>
                        <li class="list-group-item">TEXT</li>
                        <li class="list-group-item">BLOB (Binary Barge OBject)</li>
                     </ul>
                     <p class="bullet-diamond">On peut aussi ajouter des contraintes</p>
                     <li class="list-group-item">PRIMARY KEY</li>
                     <li class="list-group-item">NOT NULL</li>
                     <li class="list-group-item">CHECK</li>
                     <li class="list-group-item">DEFAULT</li>
                     <li class="list-group-item">CONSTRAINT KEY</li>
                     <p class="bullet-diamond">ex: création d'une table d'étudiant</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZxV"><code class="sql">
                CREATE TABLE etudiant (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    first_name TEXT,
                    last_name TEXT,
                    age
                );
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZxV">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_classe_pour_gerer_la_bd"></div>
                     <h3>Classe pour gérer la BD</h3>
                     <p class="bullet-diamond">Pour mettre la main sur la BD on doit passer par une classe qui hérite de SqliteOpenHelper</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZzF"><code class="java">
                public class DataBaseHelper extends SQLiteOpenHelper {
                    public DataBaseHelper(@Nullable Context context, @Nullable String name, @Nullable SQLiteDatabase.CursorFactory factory, int version) {
                        super(context, name, factory, version);
                    }
                    @Override
                    public void onCreate(SQLiteDatabase db) {
                    }
                    @Override
                    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                    }
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZzF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Lorsqu on crée une instance de cette classe, on peut ensuite mettre la main sur la BD avec
            getWritableDatabase ou get ReadableDatabase().
        </p>
                     <p class="bullet-diamond">Détaillons le constructeur :</p>
                     <ul class="list-group">
                        <li class="list-group-item">context : le context de l'activité</li>
                        <li class="list-group-item">name : le nom du fichier de base de donnée</li>
                        <li class="list-group-item">factory : ici on mettra null. C'est dans le cas où on voudrait passer par les Contents Provider</li>
                        <li class="list-group-item">version : la version de la bd. Très important, car ce paramètre va avoir une influence sur l'appel des
                méthodes onCreate ou onUpgrade
            </li>
                     </ul>
                     <p class="bullet-diamond">onCreate : appelé la premiere fois que l'on essaie d'accéder à la BD ou quand la version = 1</p>
                     <p class="bullet-diamond">onUpgrade : si on change le numéro de la version cette méthode est alors appelée. On est libre de changer la
            structure des tables ou tous autres actions SQL
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZzR"><code class="java">
                @Override
                public void onCreate(SQLiteDatabase db) {
                    db.execSQL("CREATE TABLE etudiant (\n" +
                            "id INTEGER PRIMARY KEY AUTOINCREMENT," +
                            "first_name TEXT," +
                            "last_name TEXT," +
                            "age" +
                            ");");
                    db.execSQL("INSERT INTO etudiant ('first_name','last_name','age') values ('john','doe', 27), ('foo','bar',99);");
                }
                @Override
                public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                    db.execSQL("DROP TABLE IF EXISTS etudiant");
                    onCreate(db);
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZzR">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_manager_bdhelper"></div>
                     <h3>Manager BdHelper</h3>
                     <p class="bullet-diamond">Pour gérer les versions et mettre plus facilement la main sur la base de donnée on pourrait créer une classe
            ConnectionDB
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZabF"><code class="java">
                public class ConnectionDB {
                    private static int version = 1;
                    private static String bnName = "myBd.db";
                    private static SQLiteDatabase bd = null;
                    private static DataBaseHelper helper;
                    
                    public static SQLiteDatabase getBd(Context context){
                        if(helper == null){
                            helper = new DataBaseHelper(context, bnName, null, version);
                        }
                        bd = helper.getWritableDatabase();
                        return bd;
                    }
                    public static void close(){
                        if(bd!= null &amp;&amp;  !bd.isOpen()){
                            bd.close();
                        }
                    }
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZabF">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_gerer_les_donnees_de_la_bd"></div>
                     <h3>Gérer les données de la bd</h3>
                     <p class="bullet-diamond">On va utiliser la base de donnée comme en JavaII avec un Manager pour chaque table.</p>
                     <p class="bullet-diamond">Ici on va faire un EtudiantManager</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_ajouter"></div>
                     <h4>Ajouter</h4>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZafD"><code class="java">
                    public class EtudiantManager {
                    
                        public static long add(Context context, Etudiant etudiantToAdd){
                            ContentValues contentValues = new ContentValues();
                            contentValues.put("first_name", etudiantToAdd.getFirstName());
                            contentValues.put("last_name", etudiantToAdd.getLastName());
                            contentValues.put("age", etudiantToAdd.getAge());
                            SQLiteDatabase bd = ConnectionDB.getBd(context); //on réutilise ConnctionDB ici
                            return bd.insert("etudiant", null, contentValues);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZafD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On utilise un objet ContentValues clef/valeur pour ajouter les données. Les clefs doivent être les mêmes que
            les colonnes de la table.
        </p>
                     <p class="bullet-diamond">la methode insert retourne l'id autogénéré.</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_supprimer"></div>
                     <h4>Supprimer</h4>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZahD"><code class="java">
                public static void delete(Context context, int idEtudiant){
                    SQLiteDatabase bd = ConnectionDB.getBd(context);
                    bd.delete("etudiant","id = ?" , new String[]{String.valueOf(idEtudiant)});
                }
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZahD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">détaillons les paramètres de la méthode delete</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZahH"><code class="java">
                public int delete (String table,
                                    String whereClause,
                                    String[] whereArgs)
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZahH">Copie</button></div>
                     </div>
                     <ul class="list-group">
                        <li class="list-group-item">table : le nom de la table</li>
                        <li class="list-group-item">whereClause : condition de suppression</li>
                        <li class="list-group-item">whereArgs : valeur pour condition de suppression</li>
                     </ul>
                     <p class="bullet-diamond">Si on avait écrit la requête SQL pour supprimer un étudiant, on aurait écrit :</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZahN"><code class="sql">
                DELETE FROM etudiant WHERE id = ?
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZahN">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">WHERE id = ? : est la condition de suppression ou le whereClause on appelle le ? un joker. Il sera remplacer
            par la valeur voulue.
        </p>
                     <p class="bullet-diamond">Si on avait voulu supprimer l'étudiant avec l'id = 7 on aurait eu :</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZahT"><code class="sql">
                DELETE FROM etudiant WHERE id = 7
            </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZahT">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">7 est le whereArgs ou l'argument du where, soit la condition changeante.</p>
                     <p class="bullet-diamond">On aurait pu avoir</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZahZ"><code class="sql">
                    DELETE FROM etudiant WHERE id = ? AND name LIKE ?
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZahZ">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Ici on a 2 conditions dans le where clause. C'est pour cela que le whereArgs est un tableau de String. La
            premiere valeur va correspondre au premier ? et la deuxième valeur au deuxième ?
        </p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_modifier"></div>
                     <h4>Modifier</h4>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZajD"><code class="java">
                    public static void update(Context context, Etudiant etudiantToUpdate) {
                        ContentValues contentValues = new ContentValues();
                        contentValues.put("first_name", etudiantToUpdate.getFirstName());
                        contentValues.put("age", etudiantToUpdate.getAge());
                        SQLiteDatabase bd = ConnectionDB.getBd(context);
                        long nbRowChange = bd.update("etudiant", contentValues, "id = ?", new String[]{String.valueOf(etudiantToUpdate.getId())});
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZajD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On va réutiliser le même principe que le whereClaus et le whereArgs.</p>
                     <p class="bullet-diamond">Seul les valeurs ajoutées dans le ContentValues seront modifiées.</p>
                     <p class="bullet-diamond">comme précédemment on doit avoir les mêmes clefs que les noms des colones</p>
                  </article>
                  <article class="contain-h4">
                     <div id="id_selectionner_des_donnees"></div>
                     <h4>Sélectionner des données</h4>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZalD"><code class="java">
                    public static ArrayList&lt;Etudiant&gt; getAll(Context context) {
                        SQLiteDatabase bd = ConnectionDB.getBd(context);
                        String query = "SELECT * FROM etudiant";
                        ArrayList&lt;Etudiant&gt; etudiants = null;
                        Cursor cursor = bd.rawQuery(query, null);
                        if (cursor.isBeforeFirst()) {
                            etudiants = new ArrayList&lt;&gt;();
                            while (cursor.moveToNext()) {
                                Etudiant etudiant = new Etudiant();
                                etudiant.setId(cursor.getInt(cursor.getColumnIndexOrThrow("id")));
                                etudiant.setFirstName(cursor.getString(cursor.getColumnIndexOrThrow("first_name")));
                                etudiant.setLastName(cursor.getString(cursor.getColumnIndexOrThrow("last_name")));
                                etudiant.setAge(cursor.getInt(cursor.getColumnIndexOrThrow("age")));
                                etudiants.add(etudiant);
                            }
                        }
                        return etudiants;
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZalD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">L'objet Cursor est quasiment le même que l'objet ResultSet du cours de JavaII. C'est une structure de donnée
            de type Set. On va la parcourir avec la boucle while.
        </p>
                     <p class="bullet-diamond">Après l'appelle de moveToNext() on a un nouvel enregistrement de la table. S'il n'y a plus d'enregistrement,
            moveToNext() renverra false
        </p>
                     <p class="bullet-diamond">Dans le cas d'une requête avec des paramètres, on va devoir utiliser le whereArgs.</p>
                     <p class="bullet-diamond">Exemple pour récupérer les étudiants ayant un âge supérieur à :</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdZalN"><code class="java">
                public static ArrayList&lt;Etudiant&gt; getByAgeLimite(Context context, int ageLimite) {
                    SQLiteDatabase bd = ConnectionDB.getBd(context);
                    String query = "SELECT * FROM etudiant where age &gt; ?";
                    ArrayList&lt;Etudiant&gt; etudiants = null;
                    Cursor cursor = bd.rawQuery(query, new String[]{String.valueOf(ageLimite)});
                    if (cursor.isBeforeFirst()) {
                        etudiants = new ArrayList&lt;&gt;();
                        while (cursor.moveToNext()) {
                            Etudiant etudiant = new Etudiant();
                            etudiant.setId(cursor.getInt(cursor.getColumnIndexOrThrow("id")));
                            etudiant.setFirstName(cursor.getString(cursor.getColumnIndexOrThrow("first_name")));
                            etudiant.setLastName(cursor.getString(cursor.getColumnIndexOrThrow("last_name")));
                            etudiant.setAge(cursor.getInt(cursor.getColumnIndexOrThrow("age")));
                            etudiants.add(etudiant);
                        }
                    }
                    return etudiants;
                }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdZalN">Copie</button></div>
                     </div>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_le_listview"></div>
                  <h1><span class="badge badge-secondary">Le ListView</span></h1>
                  <!--TODO listView-->
    </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_les_sensors"></div>
                  <h1><span class="badge badge-secondary">Les Sensors</span></h1>
                  <p class="bullet-diamond">La plupart des appareils fonctionnant sous Android ont des capteurs intégrés qui mesurent le mouvement,
        l'orientation et diverses conditions environnementales. Une application météorologique peut utiliser le capteur
        de température et le capteur d'humidité d'un appareil pour calculer et signaler le point de rosée. Un jeu
        pourrait utiliser l'accéléromètre pour déplacer une image avec le mouvement du téléphone.
    </p>
                  <p class="bullet-diamond">
        <a target="_blank" href="https://developer.android.com/guide/topics/sensors">DOC</a>
      </p>
                  <article class="contain-h2">
                     <div id="id_les_types_sensor"></div>
                     <h2>Les Types Sensor</h2>
                     <p class="bullet-diamond">il existe 3 catégories de Sensor dans les appareils :</p>
                     <ul class="list-group">
                        <li class="list-group-item">Sensors de mouvement</li>
                        <li class="list-group-item">Sensors d'environnement</li>
                        <li class="list-group-item">Sensors de position</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_mouvement"></div>
                     <h3>Mouvement</h3>
                     <p class="bullet-diamond">
          <a target="_blank" href="https://developer.android.com/guide/topics/sensors/sensors_motion">DOC</a>
          
            Les capteurs de gravité, d'accélération linéaire, de vecteur de rotation, de mouvement significatif, de
            compteur de pas et de détecteur de pas sont soit matériels, soit logiciels.
            Les capteurs de l'accéléromètre et du gyroscope sont toujours basés sur le matériel (hardware).
        
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_position"></div>
                     <h3>Position</h3>
                     <p class="bullet-diamond">
          <a target="_blank" href="https://developer.android.com/guide/topics/sensors/sensors_position">DOC</a>
          
            La plate-forme Android propose deux capteurs permettant de déterminer la position d'un appareil : le capteur
            de champ géomagnétique et l'accéléromètre.
        
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_environnement"></div>
                     <h3>Environnement</h3>
                     <p class="bullet-diamond">
          <a target="_blank" href="https://developer.android.com/guide/topics/sensors/sensors_environment">DOC</a>
          
            La plate-forme Android fournit quatre capteurs qui vous permettent de surveiller diverses propriétés
            environnementales. Vous pouvez utiliser ces capteurs pour surveiller l'humidité ambiante relative,
            l'éclairement, la pression ambiante et la température ambiante à proximité d'un appareil Android.
        
        </p>
                     <p class="bullet-diamond">Les quatre capteurs d'environnement sont basés sur le matériel et ne sont disponibles que si le fabricant de
            l'appareil les a intégrés à un appareil.
        </p>
                  </article>
                  <article class="contain-h2">
                     <div id="id_sensor_framework"></div>
                     <h2>Sensor Framework</h2>
                     <p class="bullet-diamond">Pour récupérer les données des sensors, ce sera toujours de la même façon à travers le Framework Sensor.</p>
                     <p class="bullet-diamond">On utilisera 4 classes/interfaces</p>
                     <ul class="list-group">
                        <li class="list-group-item">SensorManager : permet d'aider à gérer les Sensors, mettre la main dessus, enregistrer un listener,
                avoir la liste de tous les sensors.
            </li>
                        <li class="list-group-item">Sensor : récupéré depuis SensorManager, permet d'avoir des informations sur un sensor en particulier.
            </li>
                        <li class="list-group-item">SensorEvent : événement que l'on va récupérer dans le callBack pour la ou les valeurs du sensor.</li>
                        <li class="list-group-item">SensorEventListener : événement que l'on enregistrera dans le sensorManager pour écouter le sensor</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_sensormanager"></div>
                     <h3>SensorManager</h3>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADrD"><code class="java">
                    SensorManager sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADrD">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Depuis SensorManager on peut lister les sensors présent dans le téléphone.</p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADrH"><code class="java">
                    List&lt;Sensor&gt; sensors = sensorManager.getSensorList(Sensor.TYPE_ALL);
                    for (Sensor sensor : sensors) {
                        Log.d("debug_app", "sensor: " + sensor.getName());
                        Log.d("debug_app", "sensor: " + sensor.getMinDelay());
                        Log.d("debug_app", "sensor: " + sensor.getVersion());
                        Log.d("debug_app", "sensor: " + sensor.getMaximumRange());
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADrH">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_sensor"></div>
                     <h3>Sensor</h3>
                     <p class="bullet-diamond">La première chose s'est de vérifier si le sensor que l'on veut utiliser existe. Pour cela on va essayer de le
            récupérer depuis le sensorManager. On fait généralement cela dans onCreate.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADtF"><code class="java">
                    Sensor sensorLight = sensorManager.getDefaultSensor(Sensor.TYPE_LIGHT);
                    if(sensorLight != null){
                        // sensor existe
                    } else {
                        // prévenir l'utilisateur qu'on ne peut pas continuer
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADtF">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          Pour connaitre la constante 
          <kbd>Sensor.TYPE_LIGHT</kbd>
           qui correspond au sensor que l'on veut, il faut
            aller
            voir dans la 
          <a target="_blank" href="https://developer.android.com/guide/topics/sensors/sensors_overview">DOC</a>
          .
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/sensor_type_doc.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Méthodes utiles :</p>
                     <ul class="list-group">
                        <li class="list-group-item">getResolution()</li>
                        <li class="list-group-item">getMaximumRange()</li>
                        <li class="list-group-item">getPower()</li>
                     </ul>
                  </article>
                  <article class="contain-h3">
                     <div id="id_listener"></div>
                     <h3>Listener</h3>
                     <p class="bullet-diamond">Pour lire les données provenant des Sensor il faut implementer deux méthodes de l'interface
            SensorEventListener. Elles sont appelées par le système.
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">onAccuracyChanged() : lorsque la précision du sensor change (SENSOR_STATUS_ACCURACY_LOW,
                SENSOR_STATUS_ACCURACY_MEDIUM, SENSOR_STATUS_ACCURACY_HIGH, or SENSOR_STATUS_UNRELIABLE)
            </li>
                        <li class="list-group-item">onSensorChanged() : à chaque fois que les données du sensor changent. On va les retrouver dans
                SensorEvent
            </li>
                     </ul>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADvH"><code class="java">
                SensorEventListener sensorEventListener = new SensorEventListener() {
                    @Override
                    public void onSensorChanged(SensorEvent event) {
                    }
                    @Override
                    public void onAccuracyChanged(Sensor sensor, int accuracy) {
                    }
                };
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADvH">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">On aurait aussi pu utiliser implement dans l'activité ou la class qui nous arrange</p>
                     <p class="bullet-diamond">Pour enregistrer le listener on le fait dans onResume sur l'objet sensorManager et va préciser le délai
            d'écoute du sensor.
        </p>
                     <ul class="list-group">
                        <li class="list-group-item">SENSOR_DELAY_GAME (20,000 microsecondes délai)</li>
                        <li class="list-group-item">SENSOR_DELAY_UI (60,000 microsecondes délai)</li>
                        <li class="list-group-item">SENSOR_DELAY_FASTEST (0 microseconde délai)</li>
                        <li class="list-group-item">Depuis Android 3.0 spécifier la valeur en microseconde</li>
                     </ul>
                     <p class="bullet-diamond">On fait ça dans onResume, car si on quitte l'activité et qu'on revient dessus onResume est appelé dans tous
            les cas.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADvR"><code class="java">
                    @Override
                    protected void onResume() {
                        super.onResume();
                        sensorManager.registerListener(sensorEventListener, sensorLight, SensorManager.SENSOR_DELAY_FASTEST);
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADvR">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">Lorsque l'on quitte l'activité et qu'elle passe en pause, il faut arrêter d'écouter le sensor. Écouter les
            sensors est une étape qui consomme beaucoup de batterie. Donc, il est important quand on quitte l'activité
            d'arrêter d'écouter le sensor.
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADvV"><code class="java">
                    @Override
                    protected void onPause() {
                        super.onPause();
                        sensorManager.unregisterListener(sensorEventListener,sensorLight);
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADvV">Copie</button></div>
                     </div>
                  </article>
                  <article class="contain-h3">
                     <div id="id_traiter_les_valeurs"></div>
                     <h3>Traiter les valeurs</h3>
                     <p class="bullet-diamond">
          Tout va se passer dans onSensorChanged(SensorEvent event), les données vont être ajoutées dans l'objet
            SensorEvent. Plus précisément dans 
          <kbd>event.values</kbd>
          .
        
        </p>
                     <p class="bullet-diamond">values est un tableau de float qui va contenir la ou les valeurs du sensor.</p>
                     <p class="bullet-diamond">
          Il faut maintenant savoir combien de donnée on a pour le sensor. Ici encore c'est la 
          <a target="_blank" href="https://developer.android.com/guide/topics/sensors/sensors_environment">DOC
        </a>
           qui va nous donner l'information.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/sensor_value_doc.png" alt=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Dans notre cas il n'y a qu'une seule valeur, mais si on regarde le magnétomètre, c'est différent.</p>
                     <div class="card">
                        <div class="card-body">
                           <h5 class="card-title"></h5>
                           <h6 class="card-subtitle mb-2 text-muted"></h6>
                           <div class="card-body-img"><img class="img-fluid rounded" src="../asset/sensor_value_doc2.png" alt="" data-title="" data-subtitle=""></div>
                        </div>
                     </div>
                     <p class="bullet-diamond">Si on veut afficher la valeur du luxmètre (mesure de la lumière) en lux (unité de mesure de la lumière) dans
            un TextView, voici le code
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADxR"><code class="java">
                    public class SensorActivity extends AppCompatActivity {
                        TextView textView;
                        SensorManager sensorManager;
                        SensorEventListener sensorEventListener;
                        Sensor sensorLight;
                        @Override
                        protected void onCreate(Bundle savedInstanceState) {
                            super.onCreate(savedInstanceState);
                            setContentView(R.layout.activity_sensor);
                            textView = findViewById(R.id.text);
                            sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);
                            sensorLight = sensorManager.getDefaultSensor(Sensor.TYPE_LIGHT);
                            sensorEventListener = new SensorEventListener() {
                                @Override
                                public void onSensorChanged(SensorEvent event) {
                                    float luxValue = event.values[0];
                                    textView.setText(String.valueOf(luxValue) + " lux");
                                }
                                @Override
                                public void onAccuracyChanged(Sensor sensor, int accuracy) {
                                }
                            };
                        }
                        @Override
                        protected void onResume() {
                            super.onResume();
                            sensorManager.registerListener(sensorEventListener, sensorLight, SensorManager.SENSOR_DELAY_FASTEST);
                        }
                        @Override
                        protected void onPause() {
                            super.onPause();
                            sensorManager.unregisterListener(sensorEventListener,sensorLight);
                        }
                    }
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADxR">Copie</button></div>
                     </div>
                     <p class="bullet-diamond">
          L'avantage ici, c'est qu'il y a qu'une façon d'accéder à tous les sensors. Seul le nombre de valeurs dans le
            tableau 
          <kbd>event.values</kbd>
           va changer.
        
        </p>
                  </article>
                  <article class="contain-h3">
                     <div id="id_permissions"></div>
                     <h3>permissions</h3>
                     <p class="bullet-diamond">
          Si vous publiez votre application sur Google Play, vous pouvez utiliser l'élément
            
           &lt;uses-feature&gt; 
          
            dans votre fichier manifeste pour filtrer votre application des appareils qui n'ont pas la configuration de
            capteur appropriée pour votre application.
        
        </p>
                     <div class="card">
                        <div class="card-body">
                           <pre id="code_snippet_d24aAdADzF"><code class="xml">
                    &lt;uses-feature android:name="android.hardware.sensor.accelerometer"
                                  android:required="true" /&gt;
                </code></pre><button class="copy-button btn btn-light noprint" data-clipboard-target="#code_snippet_d24aAdADzF">Copie</button></div>
                     </div>
                  </article>
               </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_utilisation_de_processus_en_arriere-plan"></div>
                  <h1><span class="badge badge-secondary">Utilisation de processus en arrière-plan</span></h1>
                  <!--TODO thread-->
    </section>
               <section class="shadow p-3 mb-5 bg-white rounded">
                  <div id="id_utiliser_le_protocole_http"></div>
                  <h1><span class="badge badge-secondary">Utiliser le protocole http</span></h1>
                  <!--TODO http-->
    </section>
            </div>
         </div>
      </main><script>
                    
                        $(document).ready(function () {
                            const codeNodeList = document.querySelectorAll("pre > code");
                            codeNodeList.forEach(function(codeNode) {
                                try {
                                    const codeArray = codeNode.innerHTML.split('\n');

                                    // If the CDATA element is not formatted on a single line: ![CDATA[ example ]]
                                    // And if the CDATA element is formatted on his own line, remove the white space line
                                    if (codeArray.length > 1 && !codeArray[1].replace(/\s/g, '').length) {
                                        codeArray.splice(0,1);
                                        codeArray[0] = codeArray[0].trim();
                                    }

                                    const codeText = codeArray.join('\n');

                                    const pattern = codeText.match(/\s*\n[\t\s]*/);
                                    codeNode.innerHTML = codeText.replace(new RegExp(pattern, "g"), '\n');

                                    hljs.highlightBlock(codeNode);
                                } catch (error) {
                                    console.log('Error while parsing and initializing syntaxe highlight:', error);
                                }
                            });

                            new ClipboardJS('.btn');
                        });
                    
                </script><div class="alert alert-light build-info" role="alert">
         <div>2023-02-14 10:47:33</div>
         <div>Teaching Assistant 2.8.0</div>
      </div>
   </body>
</html>